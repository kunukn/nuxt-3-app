{"version":3,"file":"preview-ed17c4e3.js","sources":["../../node_modules/@storybook/vue3/dist/index.mjs","../../node_modules/vue-i18n/node_modules/@intlify/shared/dist/shared.esm-bundler.js","../../node_modules/@intlify/core-base/node_modules/@intlify/shared/dist/shared.esm-bundler.js","../../node_modules/@intlify/core-base/node_modules/@intlify/message-compiler/dist/message-compiler.mjs","../../node_modules/@intlify/devtools-if/dist/devtools-if.esm-bundler.js","../../node_modules/@intlify/core-base/dist/core-base.esm-bundler.js","../../node_modules/vue-i18n/dist/vue-i18n.esm-bundler.js","../../.storybook/StoryWrapper.vue","../../.storybook/withTheme.decorator.js","../../.storybook/preview.js"],"sourcesContent":["import { renderToCanvas, decorateStory, render } from './chunk-KSYMO6G6.mjs';\nexport { setup } from './chunk-KSYMO6G6.mjs';\nimport { global } from '@storybook/global';\nimport { start } from '@storybook/preview-api';\n\nvar{window:globalWindow}=global;globalWindow.STORYBOOK_ENV=\"vue3\";var RENDERER=\"vue3\",api=start(renderToCanvas,{decorateStory,render}),storiesOf=(kind,m)=>api.clientApi.storiesOf(kind,m).addParameters({renderer:RENDERER}),configure=(...args)=>api.configure(RENDERER,...args),{forceReRender}=api,{raw}=api.clientApi;typeof module<\"u\"&&module?.hot?.decline();\n\nexport { configure, forceReRender, raw, storiesOf };\n","/*!\n  * shared v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n/**\r\n * Original Utilities\r\n * written by kazuya kawaguchi\r\n */\r\nconst inBrowser = typeof window !== 'undefined';\r\nlet mark;\r\nlet measure;\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    const perf = inBrowser && window.performance;\r\n    if (perf &&\r\n        perf.mark &&\r\n        perf.measure &&\r\n        perf.clearMarks &&\r\n        perf.clearMeasures) {\r\n        mark = (tag) => perf.mark(tag);\r\n        measure = (name, startTag, endTag) => {\r\n            perf.measure(name, startTag, endTag);\r\n            perf.clearMarks(startTag);\r\n            perf.clearMarks(endTag);\r\n        };\r\n    }\r\n}\r\nconst RE_ARGS = /\\{([0-9a-zA-Z]+)\\}/g;\r\n/* eslint-disable */\r\nfunction format(message, ...args) {\r\n    if (args.length === 1 && isObject(args[0])) {\r\n        args = args[0];\r\n    }\r\n    if (!args || !args.hasOwnProperty) {\r\n        args = {};\r\n    }\r\n    return message.replace(RE_ARGS, (match, identifier) => {\r\n        return args.hasOwnProperty(identifier) ? args[identifier] : '';\r\n    });\r\n}\r\nconst hasSymbol = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\r\nconst makeSymbol = (name) => hasSymbol ? Symbol(name) : name;\r\nconst generateFormatCacheKey = (locale, key, source) => friendlyJSONstringify({ l: locale, k: key, s: source });\r\nconst friendlyJSONstringify = (json) => JSON.stringify(json)\r\n    .replace(/\\u2028/g, '\\\\u2028')\r\n    .replace(/\\u2029/g, '\\\\u2029')\r\n    .replace(/\\u0027/g, '\\\\u0027');\r\nconst isNumber = (val) => typeof val === 'number' && isFinite(val);\r\nconst isDate = (val) => toTypeString(val) === '[object Date]';\r\nconst isRegExp = (val) => toTypeString(val) === '[object RegExp]';\r\nconst isEmptyObject = (val) => isPlainObject(val) && Object.keys(val).length === 0;\r\nfunction warn(msg, err) {\r\n    if (typeof console !== 'undefined') {\r\n        console.warn(`[intlify] ` + msg);\r\n        /* istanbul ignore if */\r\n        if (err) {\r\n            console.warn(err.stack);\r\n        }\r\n    }\r\n}\r\nconst assign = Object.assign;\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    // prettier-ignore\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\r\nfunction escapeHtml(rawText) {\r\n    return rawText\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&apos;');\r\n}\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nfunction hasOwn(obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n}\r\n/* eslint-enable */\r\n/**\r\n * Useful Utilities By Evan you\r\n * Modified by kazuya kawaguchi\r\n * MIT License\r\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/index.ts\r\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/codeframe.ts\r\n */\r\nconst isArray = Array.isArray;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isBoolean = (val) => typeof val === 'boolean';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => // eslint-disable-line\r\n val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\n// for converting list and named values to displayed strings.\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isArray(val) || (isPlainObject(val) && val.toString === objectToString)\r\n            ? JSON.stringify(val, null, 2)\r\n            : String(val);\r\n};\r\nconst RANGE = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    const lines = source.split(/\\r?\\n/);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - RANGE; j <= i + RANGE || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(3 - String(line).length)}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - lineLength) + 1;\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * Event emitter, forked from the below:\r\n * - original repository url: https://github.com/developit/mitt\r\n * - code url: https://github.com/developit/mitt/blob/master/src/index.ts\r\n * - author: Jason Miller (https://github.com/developit)\r\n * - license: MIT\r\n */\r\n/**\r\n * Create a event emitter\r\n *\r\n * @returns An event emitter\r\n */\r\nfunction createEmitter() {\r\n    const events = new Map();\r\n    const emitter = {\r\n        events,\r\n        on(event, handler) {\r\n            const handlers = events.get(event);\r\n            const added = handlers && handlers.push(handler);\r\n            if (!added) {\r\n                events.set(event, [handler]);\r\n            }\r\n        },\r\n        off(event, handler) {\r\n            const handlers = events.get(event);\r\n            if (handlers) {\r\n                handlers.splice(handlers.indexOf(handler) >>> 0, 1);\r\n            }\r\n        },\r\n        emit(event, payload) {\r\n            (events.get(event) || [])\r\n                .slice()\r\n                .map(handler => handler(payload));\r\n            (events.get('*') || [])\r\n                .slice()\r\n                .map(handler => handler(event, payload));\r\n        }\r\n    };\r\n    return emitter;\r\n}\n\nexport { assign, createEmitter, escapeHtml, format, friendlyJSONstringify, generateCodeFrame, generateFormatCacheKey, getGlobalThis, hasOwn, inBrowser, isArray, isBoolean, isDate, isEmptyObject, isFunction, isNumber, isObject, isPlainObject, isPromise, isRegExp, isString, isSymbol, makeSymbol, mark, measure, objectToString, toDisplayString, toTypeString, warn };\n","/*!\n  * shared v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n/**\r\n * Original Utilities\r\n * written by kazuya kawaguchi\r\n */\r\nconst inBrowser = typeof window !== 'undefined';\r\nlet mark;\r\nlet measure;\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    const perf = inBrowser && window.performance;\r\n    if (perf &&\r\n        perf.mark &&\r\n        perf.measure &&\r\n        perf.clearMarks &&\r\n        perf.clearMeasures) {\r\n        mark = (tag) => perf.mark(tag);\r\n        measure = (name, startTag, endTag) => {\r\n            perf.measure(name, startTag, endTag);\r\n            perf.clearMarks(startTag);\r\n            perf.clearMarks(endTag);\r\n        };\r\n    }\r\n}\r\nconst RE_ARGS = /\\{([0-9a-zA-Z]+)\\}/g;\r\n/* eslint-disable */\r\nfunction format(message, ...args) {\r\n    if (args.length === 1 && isObject(args[0])) {\r\n        args = args[0];\r\n    }\r\n    if (!args || !args.hasOwnProperty) {\r\n        args = {};\r\n    }\r\n    return message.replace(RE_ARGS, (match, identifier) => {\r\n        return args.hasOwnProperty(identifier) ? args[identifier] : '';\r\n    });\r\n}\r\nconst hasSymbol = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\r\nconst makeSymbol = (name) => hasSymbol ? Symbol(name) : name;\r\nconst generateFormatCacheKey = (locale, key, source) => friendlyJSONstringify({ l: locale, k: key, s: source });\r\nconst friendlyJSONstringify = (json) => JSON.stringify(json)\r\n    .replace(/\\u2028/g, '\\\\u2028')\r\n    .replace(/\\u2029/g, '\\\\u2029')\r\n    .replace(/\\u0027/g, '\\\\u0027');\r\nconst isNumber = (val) => typeof val === 'number' && isFinite(val);\r\nconst isDate = (val) => toTypeString(val) === '[object Date]';\r\nconst isRegExp = (val) => toTypeString(val) === '[object RegExp]';\r\nconst isEmptyObject = (val) => isPlainObject(val) && Object.keys(val).length === 0;\r\nfunction warn(msg, err) {\r\n    if (typeof console !== 'undefined') {\r\n        console.warn(`[intlify] ` + msg);\r\n        /* istanbul ignore if */\r\n        if (err) {\r\n            console.warn(err.stack);\r\n        }\r\n    }\r\n}\r\nconst assign = Object.assign;\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    // prettier-ignore\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\r\nfunction escapeHtml(rawText) {\r\n    return rawText\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&apos;');\r\n}\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nfunction hasOwn(obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n}\r\n/* eslint-enable */\r\n/**\r\n * Useful Utilities By Evan you\r\n * Modified by kazuya kawaguchi\r\n * MIT License\r\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/index.ts\r\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/codeframe.ts\r\n */\r\nconst isArray = Array.isArray;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isBoolean = (val) => typeof val === 'boolean';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => // eslint-disable-line\r\n val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\n// for converting list and named values to displayed strings.\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isArray(val) || (isPlainObject(val) && val.toString === objectToString)\r\n            ? JSON.stringify(val, null, 2)\r\n            : String(val);\r\n};\r\nconst RANGE = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    const lines = source.split(/\\r?\\n/);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - RANGE; j <= i + RANGE || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(3 - String(line).length)}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - lineLength) + 1;\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * Event emitter, forked from the below:\r\n * - original repository url: https://github.com/developit/mitt\r\n * - code url: https://github.com/developit/mitt/blob/master/src/index.ts\r\n * - author: Jason Miller (https://github.com/developit)\r\n * - license: MIT\r\n */\r\n/**\r\n * Create a event emitter\r\n *\r\n * @returns An event emitter\r\n */\r\nfunction createEmitter() {\r\n    const events = new Map();\r\n    const emitter = {\r\n        events,\r\n        on(event, handler) {\r\n            const handlers = events.get(event);\r\n            const added = handlers && handlers.push(handler);\r\n            if (!added) {\r\n                events.set(event, [handler]);\r\n            }\r\n        },\r\n        off(event, handler) {\r\n            const handlers = events.get(event);\r\n            if (handlers) {\r\n                handlers.splice(handlers.indexOf(handler) >>> 0, 1);\r\n            }\r\n        },\r\n        emit(event, payload) {\r\n            (events.get(event) || [])\r\n                .slice()\r\n                .map(handler => handler(payload));\r\n            (events.get('*') || [])\r\n                .slice()\r\n                .map(handler => handler(event, payload));\r\n        }\r\n    };\r\n    return emitter;\r\n}\n\nexport { assign, createEmitter, escapeHtml, format, friendlyJSONstringify, generateCodeFrame, generateFormatCacheKey, getGlobalThis, hasOwn, inBrowser, isArray, isBoolean, isDate, isEmptyObject, isFunction, isNumber, isObject, isPlainObject, isPromise, isRegExp, isString, isSymbol, makeSymbol, mark, measure, objectToString, toDisplayString, toTypeString, warn };\n","/*!\n  * message-compiler v9.3.0-beta.16\n  * (c) 2023 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { format, assign, isString } from '@intlify/shared';\n\nconst CompileErrorCodes = {\r\n    // tokenizer error codes\r\n    EXPECTED_TOKEN: 1,\r\n    INVALID_TOKEN_IN_PLACEHOLDER: 2,\r\n    UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER: 3,\r\n    UNKNOWN_ESCAPE_SEQUENCE: 4,\r\n    INVALID_UNICODE_ESCAPE_SEQUENCE: 5,\r\n    UNBALANCED_CLOSING_BRACE: 6,\r\n    UNTERMINATED_CLOSING_BRACE: 7,\r\n    EMPTY_PLACEHOLDER: 8,\r\n    NOT_ALLOW_NEST_PLACEHOLDER: 9,\r\n    INVALID_LINKED_FORMAT: 10,\r\n    // parser error codes\r\n    MUST_HAVE_MESSAGES_IN_PLURAL: 11,\r\n    UNEXPECTED_EMPTY_LINKED_MODIFIER: 12,\r\n    UNEXPECTED_EMPTY_LINKED_KEY: 13,\r\n    UNEXPECTED_LEXICAL_ANALYSIS: 14,\r\n    // Special value for higher-order compilers to pick up the last code\r\n    // to avoid collision of error codes. This should always be kept as the last\r\n    // item.\r\n    __EXTEND_POINT__: 15\r\n};\r\n/** @internal */\r\nconst errorMessages = {\r\n    // tokenizer error messages\r\n    [CompileErrorCodes.EXPECTED_TOKEN]: `Expected token: '{0}'`,\r\n    [CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]: `Invalid token in placeholder: '{0}'`,\r\n    [CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]: `Unterminated single quote in placeholder`,\r\n    [CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]: `Unknown escape sequence: \\\\{0}`,\r\n    [CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]: `Invalid unicode escape sequence: {0}`,\r\n    [CompileErrorCodes.UNBALANCED_CLOSING_BRACE]: `Unbalanced closing brace`,\r\n    [CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]: `Unterminated closing brace`,\r\n    [CompileErrorCodes.EMPTY_PLACEHOLDER]: `Empty placeholder`,\r\n    [CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]: `Not allowed nest placeholder`,\r\n    [CompileErrorCodes.INVALID_LINKED_FORMAT]: `Invalid linked format`,\r\n    // parser error messages\r\n    [CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]: `Plural must have messages`,\r\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]: `Unexpected empty linked modifier`,\r\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]: `Unexpected empty linked key`,\r\n    [CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]: `Unexpected lexical analysis in token: '{0}'`\r\n};\r\nfunction createCompileError(code, loc, options = {}) {\r\n    const { domain, messages, args } = options;\r\n    const msg = (process.env.NODE_ENV !== 'production')\r\n        ? format((messages || errorMessages)[code] || '', ...(args || []))\r\n        : code;\r\n    const error = new SyntaxError(String(msg));\r\n    error.code = code;\r\n    if (loc) {\r\n        error.location = loc;\r\n    }\r\n    error.domain = domain;\r\n    return error;\r\n}\r\n/** @internal */\r\nfunction defaultOnError(error) {\r\n    throw error;\r\n}\n\nconst LocationStub = {\r\n    start: { line: 1, column: 1, offset: 0 },\r\n    end: { line: 1, column: 1, offset: 0 }\r\n};\r\nfunction createPosition(line, column, offset) {\r\n    return { line, column, offset };\r\n}\r\nfunction createLocation(start, end, source) {\r\n    const loc = { start, end };\r\n    if (source != null) {\r\n        loc.source = source;\r\n    }\r\n    return loc;\r\n}\n\nconst CHAR_SP = ' ';\r\nconst CHAR_CR = '\\r';\r\nconst CHAR_LF = '\\n';\r\nconst CHAR_LS = String.fromCharCode(0x2028);\r\nconst CHAR_PS = String.fromCharCode(0x2029);\r\nfunction createScanner(str) {\r\n    const _buf = str;\r\n    let _index = 0;\r\n    let _line = 1;\r\n    let _column = 1;\r\n    let _peekOffset = 0;\r\n    const isCRLF = (index) => _buf[index] === CHAR_CR && _buf[index + 1] === CHAR_LF;\r\n    const isLF = (index) => _buf[index] === CHAR_LF;\r\n    const isPS = (index) => _buf[index] === CHAR_PS;\r\n    const isLS = (index) => _buf[index] === CHAR_LS;\r\n    const isLineEnd = (index) => isCRLF(index) || isLF(index) || isPS(index) || isLS(index);\r\n    const index = () => _index;\r\n    const line = () => _line;\r\n    const column = () => _column;\r\n    const peekOffset = () => _peekOffset;\r\n    const charAt = (offset) => isCRLF(offset) || isPS(offset) || isLS(offset) ? CHAR_LF : _buf[offset];\r\n    const currentChar = () => charAt(_index);\r\n    const currentPeek = () => charAt(_index + _peekOffset);\r\n    function next() {\r\n        _peekOffset = 0;\r\n        if (isLineEnd(_index)) {\r\n            _line++;\r\n            _column = 0;\r\n        }\r\n        if (isCRLF(_index)) {\r\n            _index++;\r\n        }\r\n        _index++;\r\n        _column++;\r\n        return _buf[_index];\r\n    }\r\n    function peek() {\r\n        if (isCRLF(_index + _peekOffset)) {\r\n            _peekOffset++;\r\n        }\r\n        _peekOffset++;\r\n        return _buf[_index + _peekOffset];\r\n    }\r\n    function reset() {\r\n        _index = 0;\r\n        _line = 1;\r\n        _column = 1;\r\n        _peekOffset = 0;\r\n    }\r\n    function resetPeek(offset = 0) {\r\n        _peekOffset = offset;\r\n    }\r\n    function skipToPeek() {\r\n        const target = _index + _peekOffset;\r\n        // eslint-disable-next-line no-unmodified-loop-condition\r\n        while (target !== _index) {\r\n            next();\r\n        }\r\n        _peekOffset = 0;\r\n    }\r\n    return {\r\n        index,\r\n        line,\r\n        column,\r\n        peekOffset,\r\n        charAt,\r\n        currentChar,\r\n        currentPeek,\r\n        next,\r\n        peek,\r\n        reset,\r\n        resetPeek,\r\n        skipToPeek\r\n    };\r\n}\n\nconst EOF = undefined;\r\nconst LITERAL_DELIMITER = \"'\";\r\nconst ERROR_DOMAIN$1 = 'tokenizer';\r\nfunction createTokenizer(source, options = {}) {\r\n    const location = options.location !== false;\r\n    const _scnr = createScanner(source);\r\n    const currentOffset = () => _scnr.index();\r\n    const currentPosition = () => createPosition(_scnr.line(), _scnr.column(), _scnr.index());\r\n    const _initLoc = currentPosition();\r\n    const _initOffset = currentOffset();\r\n    const _context = {\r\n        currentType: 14 /* TokenTypes.EOF */,\r\n        offset: _initOffset,\r\n        startLoc: _initLoc,\r\n        endLoc: _initLoc,\r\n        lastType: 14 /* TokenTypes.EOF */,\r\n        lastOffset: _initOffset,\r\n        lastStartLoc: _initLoc,\r\n        lastEndLoc: _initLoc,\r\n        braceNest: 0,\r\n        inLinked: false,\r\n        text: ''\r\n    };\r\n    const context = () => _context;\r\n    const { onError } = options;\r\n    function emitError(code, pos, offset, ...args) {\r\n        const ctx = context();\r\n        pos.column += offset;\r\n        pos.offset += offset;\r\n        if (onError) {\r\n            const loc = createLocation(ctx.startLoc, pos);\r\n            const err = createCompileError(code, loc, {\r\n                domain: ERROR_DOMAIN$1,\r\n                args\r\n            });\r\n            onError(err);\r\n        }\r\n    }\r\n    function getToken(context, type, value) {\r\n        context.endLoc = currentPosition();\r\n        context.currentType = type;\r\n        const token = { type };\r\n        if (location) {\r\n            token.loc = createLocation(context.startLoc, context.endLoc);\r\n        }\r\n        if (value != null) {\r\n            token.value = value;\r\n        }\r\n        return token;\r\n    }\r\n    const getEndToken = (context) => getToken(context, 14 /* TokenTypes.EOF */);\r\n    function eat(scnr, ch) {\r\n        if (scnr.currentChar() === ch) {\r\n            scnr.next();\r\n            return ch;\r\n        }\r\n        else {\r\n            emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);\r\n            return '';\r\n        }\r\n    }\r\n    function peekSpaces(scnr) {\r\n        let buf = '';\r\n        while (scnr.currentPeek() === CHAR_SP || scnr.currentPeek() === CHAR_LF) {\r\n            buf += scnr.currentPeek();\r\n            scnr.peek();\r\n        }\r\n        return buf;\r\n    }\r\n    function skipSpaces(scnr) {\r\n        const buf = peekSpaces(scnr);\r\n        scnr.skipToPeek();\r\n        return buf;\r\n    }\r\n    function isIdentifierStart(ch) {\r\n        if (ch === EOF) {\r\n            return false;\r\n        }\r\n        const cc = ch.charCodeAt(0);\r\n        return ((cc >= 97 && cc <= 122) || // a-z\r\n            (cc >= 65 && cc <= 90) || // A-Z\r\n            cc === 95 // _\r\n        );\r\n    }\r\n    function isNumberStart(ch) {\r\n        if (ch === EOF) {\r\n            return false;\r\n        }\r\n        const cc = ch.charCodeAt(0);\r\n        return cc >= 48 && cc <= 57; // 0-9\r\n    }\r\n    function isNamedIdentifierStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = isIdentifierStart(scnr.currentPeek());\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isListIdentifierStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ch = scnr.currentPeek() === '-' ? scnr.peek() : scnr.currentPeek();\r\n        const ret = isNumberStart(ch);\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLiteralStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === LITERAL_DELIMITER;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedDotStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 8 /* TokenTypes.LinkedAlias */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \".\" /* TokenChars.LinkedDot */;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedModifierStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 9 /* TokenTypes.LinkedDot */) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = isIdentifierStart(scnr.currentPeek());\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedDelimiterStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (!(currentType === 8 /* TokenTypes.LinkedAlias */ ||\r\n            currentType === 12 /* TokenTypes.LinkedModifier */)) {\r\n            return false;\r\n        }\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \":\" /* TokenChars.LinkedDelimiter */;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isLinkedReferStart(scnr, context) {\r\n        const { currentType } = context;\r\n        if (currentType !== 10 /* TokenTypes.LinkedDelimiter */) {\r\n            return false;\r\n        }\r\n        const fn = () => {\r\n            const ch = scnr.currentPeek();\r\n            if (ch === \"{\" /* TokenChars.BraceLeft */) {\r\n                return isIdentifierStart(scnr.peek());\r\n            }\r\n            else if (ch === \"@\" /* TokenChars.LinkedAlias */ ||\r\n                ch === \"%\" /* TokenChars.Modulo */ ||\r\n                ch === \"|\" /* TokenChars.Pipe */ ||\r\n                ch === \":\" /* TokenChars.LinkedDelimiter */ ||\r\n                ch === \".\" /* TokenChars.LinkedDot */ ||\r\n                ch === CHAR_SP ||\r\n                !ch) {\r\n                return false;\r\n            }\r\n            else if (ch === CHAR_LF) {\r\n                scnr.peek();\r\n                return fn();\r\n            }\r\n            else {\r\n                // other characters\r\n                return isIdentifierStart(ch);\r\n            }\r\n        };\r\n        const ret = fn();\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function isPluralStart(scnr) {\r\n        peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \"|\" /* TokenChars.Pipe */;\r\n        scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function detectModuloStart(scnr) {\r\n        const spaces = peekSpaces(scnr);\r\n        const ret = scnr.currentPeek() === \"%\" /* TokenChars.Modulo */ &&\r\n            scnr.peek() === \"{\" /* TokenChars.BraceLeft */;\r\n        scnr.resetPeek();\r\n        return {\r\n            isModulo: ret,\r\n            hasSpace: spaces.length > 0\r\n        };\r\n    }\r\n    function isTextStart(scnr, reset = true) {\r\n        const fn = (hasSpace = false, prev = '', detectModulo = false) => {\r\n            const ch = scnr.currentPeek();\r\n            if (ch === \"{\" /* TokenChars.BraceLeft */) {\r\n                return prev === \"%\" /* TokenChars.Modulo */ ? false : hasSpace;\r\n            }\r\n            else if (ch === \"@\" /* TokenChars.LinkedAlias */ || !ch) {\r\n                return prev === \"%\" /* TokenChars.Modulo */ ? true : hasSpace;\r\n            }\r\n            else if (ch === \"%\" /* TokenChars.Modulo */) {\r\n                scnr.peek();\r\n                return fn(hasSpace, \"%\" /* TokenChars.Modulo */, true);\r\n            }\r\n            else if (ch === \"|\" /* TokenChars.Pipe */) {\r\n                return prev === \"%\" /* TokenChars.Modulo */ || detectModulo\r\n                    ? true\r\n                    : !(prev === CHAR_SP || prev === CHAR_LF);\r\n            }\r\n            else if (ch === CHAR_SP) {\r\n                scnr.peek();\r\n                return fn(true, CHAR_SP, detectModulo);\r\n            }\r\n            else if (ch === CHAR_LF) {\r\n                scnr.peek();\r\n                return fn(true, CHAR_LF, detectModulo);\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        };\r\n        const ret = fn();\r\n        reset && scnr.resetPeek();\r\n        return ret;\r\n    }\r\n    function takeChar(scnr, fn) {\r\n        const ch = scnr.currentChar();\r\n        if (ch === EOF) {\r\n            return EOF;\r\n        }\r\n        if (fn(ch)) {\r\n            scnr.next();\r\n            return ch;\r\n        }\r\n        return null;\r\n    }\r\n    function takeIdentifierChar(scnr) {\r\n        const closure = (ch) => {\r\n            const cc = ch.charCodeAt(0);\r\n            return ((cc >= 97 && cc <= 122) || // a-z\r\n                (cc >= 65 && cc <= 90) || // A-Z\r\n                (cc >= 48 && cc <= 57) || // 0-9\r\n                cc === 95 || // _\r\n                cc === 36 // $\r\n            );\r\n        };\r\n        return takeChar(scnr, closure);\r\n    }\r\n    function takeDigit(scnr) {\r\n        const closure = (ch) => {\r\n            const cc = ch.charCodeAt(0);\r\n            return cc >= 48 && cc <= 57; // 0-9\r\n        };\r\n        return takeChar(scnr, closure);\r\n    }\r\n    function takeHexDigit(scnr) {\r\n        const closure = (ch) => {\r\n            const cc = ch.charCodeAt(0);\r\n            return ((cc >= 48 && cc <= 57) || // 0-9\r\n                (cc >= 65 && cc <= 70) || // A-F\r\n                (cc >= 97 && cc <= 102)); // a-f\r\n        };\r\n        return takeChar(scnr, closure);\r\n    }\r\n    function getDigits(scnr) {\r\n        let ch = '';\r\n        let num = '';\r\n        while ((ch = takeDigit(scnr))) {\r\n            num += ch;\r\n        }\r\n        return num;\r\n    }\r\n    function readModulo(scnr) {\r\n        skipSpaces(scnr);\r\n        const ch = scnr.currentChar();\r\n        if (ch !== \"%\" /* TokenChars.Modulo */) {\r\n            emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);\r\n        }\r\n        scnr.next();\r\n        return \"%\" /* TokenChars.Modulo */;\r\n    }\r\n    function readText(scnr) {\r\n        let buf = '';\r\n        while (true) {\r\n            const ch = scnr.currentChar();\r\n            if (ch === \"{\" /* TokenChars.BraceLeft */ ||\r\n                ch === \"}\" /* TokenChars.BraceRight */ ||\r\n                ch === \"@\" /* TokenChars.LinkedAlias */ ||\r\n                ch === \"|\" /* TokenChars.Pipe */ ||\r\n                !ch) {\r\n                break;\r\n            }\r\n            else if (ch === \"%\" /* TokenChars.Modulo */) {\r\n                if (isTextStart(scnr)) {\r\n                    buf += ch;\r\n                    scnr.next();\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            else if (ch === CHAR_SP || ch === CHAR_LF) {\r\n                if (isTextStart(scnr)) {\r\n                    buf += ch;\r\n                    scnr.next();\r\n                }\r\n                else if (isPluralStart(scnr)) {\r\n                    break;\r\n                }\r\n                else {\r\n                    buf += ch;\r\n                    scnr.next();\r\n                }\r\n            }\r\n            else {\r\n                buf += ch;\r\n                scnr.next();\r\n            }\r\n        }\r\n        return buf;\r\n    }\r\n    function readNamedIdentifier(scnr) {\r\n        skipSpaces(scnr);\r\n        let ch = '';\r\n        let name = '';\r\n        while ((ch = takeIdentifierChar(scnr))) {\r\n            name += ch;\r\n        }\r\n        if (scnr.currentChar() === EOF) {\r\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n        }\r\n        return name;\r\n    }\r\n    function readListIdentifier(scnr) {\r\n        skipSpaces(scnr);\r\n        let value = '';\r\n        if (scnr.currentChar() === '-') {\r\n            scnr.next();\r\n            value += `-${getDigits(scnr)}`;\r\n        }\r\n        else {\r\n            value += getDigits(scnr);\r\n        }\r\n        if (scnr.currentChar() === EOF) {\r\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n        }\r\n        return value;\r\n    }\r\n    function readLiteral(scnr) {\r\n        skipSpaces(scnr);\r\n        eat(scnr, `\\'`);\r\n        let ch = '';\r\n        let literal = '';\r\n        const fn = (x) => x !== LITERAL_DELIMITER && x !== CHAR_LF;\r\n        while ((ch = takeChar(scnr, fn))) {\r\n            if (ch === '\\\\') {\r\n                literal += readEscapeSequence(scnr);\r\n            }\r\n            else {\r\n                literal += ch;\r\n            }\r\n        }\r\n        const current = scnr.currentChar();\r\n        if (current === CHAR_LF || current === EOF) {\r\n            emitError(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER, currentPosition(), 0);\r\n            // TODO: Is it correct really?\r\n            if (current === CHAR_LF) {\r\n                scnr.next();\r\n                eat(scnr, `\\'`);\r\n            }\r\n            return literal;\r\n        }\r\n        eat(scnr, `\\'`);\r\n        return literal;\r\n    }\r\n    function readEscapeSequence(scnr) {\r\n        const ch = scnr.currentChar();\r\n        switch (ch) {\r\n            case '\\\\':\r\n            case `\\'`:\r\n                scnr.next();\r\n                return `\\\\${ch}`;\r\n            case 'u':\r\n                return readUnicodeEscapeSequence(scnr, ch, 4);\r\n            case 'U':\r\n                return readUnicodeEscapeSequence(scnr, ch, 6);\r\n            default:\r\n                emitError(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE, currentPosition(), 0, ch);\r\n                return '';\r\n        }\r\n    }\r\n    function readUnicodeEscapeSequence(scnr, unicode, digits) {\r\n        eat(scnr, unicode);\r\n        let sequence = '';\r\n        for (let i = 0; i < digits; i++) {\r\n            const ch = takeHexDigit(scnr);\r\n            if (!ch) {\r\n                emitError(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE, currentPosition(), 0, `\\\\${unicode}${sequence}${scnr.currentChar()}`);\r\n                break;\r\n            }\r\n            sequence += ch;\r\n        }\r\n        return `\\\\${unicode}${sequence}`;\r\n    }\r\n    function readInvalidIdentifier(scnr) {\r\n        skipSpaces(scnr);\r\n        let ch = '';\r\n        let identifiers = '';\r\n        const closure = (ch) => ch !== \"{\" /* TokenChars.BraceLeft */ &&\r\n            ch !== \"}\" /* TokenChars.BraceRight */ &&\r\n            ch !== CHAR_SP &&\r\n            ch !== CHAR_LF;\r\n        while ((ch = takeChar(scnr, closure))) {\r\n            identifiers += ch;\r\n        }\r\n        return identifiers;\r\n    }\r\n    function readLinkedModifier(scnr) {\r\n        let ch = '';\r\n        let name = '';\r\n        while ((ch = takeIdentifierChar(scnr))) {\r\n            name += ch;\r\n        }\r\n        return name;\r\n    }\r\n    function readLinkedRefer(scnr) {\r\n        const fn = (detect = false, buf) => {\r\n            const ch = scnr.currentChar();\r\n            if (ch === \"{\" /* TokenChars.BraceLeft */ ||\r\n                ch === \"%\" /* TokenChars.Modulo */ ||\r\n                ch === \"@\" /* TokenChars.LinkedAlias */ ||\r\n                ch === \"|\" /* TokenChars.Pipe */ ||\r\n                !ch) {\r\n                return buf;\r\n            }\r\n            else if (ch === CHAR_SP) {\r\n                return buf;\r\n            }\r\n            else if (ch === CHAR_LF) {\r\n                buf += ch;\r\n                scnr.next();\r\n                return fn(detect, buf);\r\n            }\r\n            else {\r\n                buf += ch;\r\n                scnr.next();\r\n                return fn(true, buf);\r\n            }\r\n        };\r\n        return fn(false, '');\r\n    }\r\n    function readPlural(scnr) {\r\n        skipSpaces(scnr);\r\n        const plural = eat(scnr, \"|\" /* TokenChars.Pipe */);\r\n        skipSpaces(scnr);\r\n        return plural;\r\n    }\r\n    // TODO: We need refactoring of token parsing ...\r\n    function readTokenInPlaceholder(scnr, context) {\r\n        let token = null;\r\n        const ch = scnr.currentChar();\r\n        switch (ch) {\r\n            case \"{\" /* TokenChars.BraceLeft */:\r\n                if (context.braceNest >= 1) {\r\n                    emitError(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER, currentPosition(), 0);\r\n                }\r\n                scnr.next();\r\n                token = getToken(context, 2 /* TokenTypes.BraceLeft */, \"{\" /* TokenChars.BraceLeft */);\r\n                skipSpaces(scnr);\r\n                context.braceNest++;\r\n                return token;\r\n            case \"}\" /* TokenChars.BraceRight */:\r\n                if (context.braceNest > 0 &&\r\n                    context.currentType === 2 /* TokenTypes.BraceLeft */) {\r\n                    emitError(CompileErrorCodes.EMPTY_PLACEHOLDER, currentPosition(), 0);\r\n                }\r\n                scnr.next();\r\n                token = getToken(context, 3 /* TokenTypes.BraceRight */, \"}\" /* TokenChars.BraceRight */);\r\n                context.braceNest--;\r\n                context.braceNest > 0 && skipSpaces(scnr);\r\n                if (context.inLinked && context.braceNest === 0) {\r\n                    context.inLinked = false;\r\n                }\r\n                return token;\r\n            case \"@\" /* TokenChars.LinkedAlias */:\r\n                if (context.braceNest > 0) {\r\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n                }\r\n                token = readTokenInLinked(scnr, context) || getEndToken(context);\r\n                context.braceNest = 0;\r\n                return token;\r\n            default:\r\n                let validNamedIdentifier = true;\r\n                let validListIdentifier = true;\r\n                let validLiteral = true;\r\n                if (isPluralStart(scnr)) {\r\n                    if (context.braceNest > 0) {\r\n                        emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n                    }\r\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\r\n                    // reset\r\n                    context.braceNest = 0;\r\n                    context.inLinked = false;\r\n                    return token;\r\n                }\r\n                if (context.braceNest > 0 &&\r\n                    (context.currentType === 5 /* TokenTypes.Named */ ||\r\n                        context.currentType === 6 /* TokenTypes.List */ ||\r\n                        context.currentType === 7 /* TokenTypes.Literal */)) {\r\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\r\n                    context.braceNest = 0;\r\n                    return readToken(scnr, context);\r\n                }\r\n                if ((validNamedIdentifier = isNamedIdentifierStart(scnr, context))) {\r\n                    token = getToken(context, 5 /* TokenTypes.Named */, readNamedIdentifier(scnr));\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                if ((validListIdentifier = isListIdentifierStart(scnr, context))) {\r\n                    token = getToken(context, 6 /* TokenTypes.List */, readListIdentifier(scnr));\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                if ((validLiteral = isLiteralStart(scnr, context))) {\r\n                    token = getToken(context, 7 /* TokenTypes.Literal */, readLiteral(scnr));\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                if (!validNamedIdentifier && !validListIdentifier && !validLiteral) {\r\n                    // TODO: we should be re-designed invalid cases, when we will extend message syntax near the future ...\r\n                    token = getToken(context, 13 /* TokenTypes.InvalidPlace */, readInvalidIdentifier(scnr));\r\n                    emitError(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER, currentPosition(), 0, token.value);\r\n                    skipSpaces(scnr);\r\n                    return token;\r\n                }\r\n                break;\r\n        }\r\n        return token;\r\n    }\r\n    // TODO: We need refactoring of token parsing ...\r\n    function readTokenInLinked(scnr, context) {\r\n        const { currentType } = context;\r\n        let token = null;\r\n        const ch = scnr.currentChar();\r\n        if ((currentType === 8 /* TokenTypes.LinkedAlias */ ||\r\n            currentType === 9 /* TokenTypes.LinkedDot */ ||\r\n            currentType === 12 /* TokenTypes.LinkedModifier */ ||\r\n            currentType === 10 /* TokenTypes.LinkedDelimiter */) &&\r\n            (ch === CHAR_LF || ch === CHAR_SP)) {\r\n            emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\r\n        }\r\n        switch (ch) {\r\n            case \"@\" /* TokenChars.LinkedAlias */:\r\n                scnr.next();\r\n                token = getToken(context, 8 /* TokenTypes.LinkedAlias */, \"@\" /* TokenChars.LinkedAlias */);\r\n                context.inLinked = true;\r\n                return token;\r\n            case \".\" /* TokenChars.LinkedDot */:\r\n                skipSpaces(scnr);\r\n                scnr.next();\r\n                return getToken(context, 9 /* TokenTypes.LinkedDot */, \".\" /* TokenChars.LinkedDot */);\r\n            case \":\" /* TokenChars.LinkedDelimiter */:\r\n                skipSpaces(scnr);\r\n                scnr.next();\r\n                return getToken(context, 10 /* TokenTypes.LinkedDelimiter */, \":\" /* TokenChars.LinkedDelimiter */);\r\n            default:\r\n                if (isPluralStart(scnr)) {\r\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\r\n                    // reset\r\n                    context.braceNest = 0;\r\n                    context.inLinked = false;\r\n                    return token;\r\n                }\r\n                if (isLinkedDotStart(scnr, context) ||\r\n                    isLinkedDelimiterStart(scnr, context)) {\r\n                    skipSpaces(scnr);\r\n                    return readTokenInLinked(scnr, context);\r\n                }\r\n                if (isLinkedModifierStart(scnr, context)) {\r\n                    skipSpaces(scnr);\r\n                    return getToken(context, 12 /* TokenTypes.LinkedModifier */, readLinkedModifier(scnr));\r\n                }\r\n                if (isLinkedReferStart(scnr, context)) {\r\n                    skipSpaces(scnr);\r\n                    if (ch === \"{\" /* TokenChars.BraceLeft */) {\r\n                        // scan the placeholder\r\n                        return readTokenInPlaceholder(scnr, context) || token;\r\n                    }\r\n                    else {\r\n                        return getToken(context, 11 /* TokenTypes.LinkedKey */, readLinkedRefer(scnr));\r\n                    }\r\n                }\r\n                if (currentType === 8 /* TokenTypes.LinkedAlias */) {\r\n                    emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\r\n                }\r\n                context.braceNest = 0;\r\n                context.inLinked = false;\r\n                return readToken(scnr, context);\r\n        }\r\n    }\r\n    // TODO: We need refactoring of token parsing ...\r\n    function readToken(scnr, context) {\r\n        let token = { type: 14 /* TokenTypes.EOF */ };\r\n        if (context.braceNest > 0) {\r\n            return readTokenInPlaceholder(scnr, context) || getEndToken(context);\r\n        }\r\n        if (context.inLinked) {\r\n            return readTokenInLinked(scnr, context) || getEndToken(context);\r\n        }\r\n        const ch = scnr.currentChar();\r\n        switch (ch) {\r\n            case \"{\" /* TokenChars.BraceLeft */:\r\n                return readTokenInPlaceholder(scnr, context) || getEndToken(context);\r\n            case \"}\" /* TokenChars.BraceRight */:\r\n                emitError(CompileErrorCodes.UNBALANCED_CLOSING_BRACE, currentPosition(), 0);\r\n                scnr.next();\r\n                return getToken(context, 3 /* TokenTypes.BraceRight */, \"}\" /* TokenChars.BraceRight */);\r\n            case \"@\" /* TokenChars.LinkedAlias */:\r\n                return readTokenInLinked(scnr, context) || getEndToken(context);\r\n            default:\r\n                if (isPluralStart(scnr)) {\r\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\r\n                    // reset\r\n                    context.braceNest = 0;\r\n                    context.inLinked = false;\r\n                    return token;\r\n                }\r\n                const { isModulo, hasSpace } = detectModuloStart(scnr);\r\n                if (isModulo) {\r\n                    return hasSpace\r\n                        ? getToken(context, 0 /* TokenTypes.Text */, readText(scnr))\r\n                        : getToken(context, 4 /* TokenTypes.Modulo */, readModulo(scnr));\r\n                }\r\n                if (isTextStart(scnr)) {\r\n                    return getToken(context, 0 /* TokenTypes.Text */, readText(scnr));\r\n                }\r\n                break;\r\n        }\r\n        return token;\r\n    }\r\n    function nextToken() {\r\n        const { currentType, offset, startLoc, endLoc } = _context;\r\n        _context.lastType = currentType;\r\n        _context.lastOffset = offset;\r\n        _context.lastStartLoc = startLoc;\r\n        _context.lastEndLoc = endLoc;\r\n        _context.offset = currentOffset();\r\n        _context.startLoc = currentPosition();\r\n        if (_scnr.currentChar() === EOF) {\r\n            return getToken(_context, 14 /* TokenTypes.EOF */);\r\n        }\r\n        return readToken(_scnr, _context);\r\n    }\r\n    return {\r\n        nextToken,\r\n        currentOffset,\r\n        currentPosition,\r\n        context\r\n    };\r\n}\n\nconst ERROR_DOMAIN = 'parser';\r\n// Backslash backslash, backslash quote, uHHHH, UHHHHHH.\r\nconst KNOWN_ESCAPES = /(?:\\\\\\\\|\\\\'|\\\\u([0-9a-fA-F]{4})|\\\\U([0-9a-fA-F]{6}))/g;\r\nfunction fromEscapeSequence(match, codePoint4, codePoint6) {\r\n    switch (match) {\r\n        case `\\\\\\\\`:\r\n            return `\\\\`;\r\n        case `\\\\\\'`:\r\n            return `\\'`;\r\n        default: {\r\n            const codePoint = parseInt(codePoint4 || codePoint6, 16);\r\n            if (codePoint <= 0xd7ff || codePoint >= 0xe000) {\r\n                return String.fromCodePoint(codePoint);\r\n            }\r\n            // invalid ...\r\n            // Replace them with U+FFFD REPLACEMENT CHARACTER.\r\n            return 'ï¿½';\r\n        }\r\n    }\r\n}\r\nfunction createParser(options = {}) {\r\n    const location = options.location !== false;\r\n    const { onError } = options;\r\n    function emitError(tokenzer, code, start, offset, ...args) {\r\n        const end = tokenzer.currentPosition();\r\n        end.offset += offset;\r\n        end.column += offset;\r\n        if (onError) {\r\n            const loc = createLocation(start, end);\r\n            const err = createCompileError(code, loc, {\r\n                domain: ERROR_DOMAIN,\r\n                args\r\n            });\r\n            onError(err);\r\n        }\r\n    }\r\n    function startNode(type, offset, loc) {\r\n        const node = {\r\n            type,\r\n            start: offset,\r\n            end: offset\r\n        };\r\n        if (location) {\r\n            node.loc = { start: loc, end: loc };\r\n        }\r\n        return node;\r\n    }\r\n    function endNode(node, offset, pos, type) {\r\n        node.end = offset;\r\n        if (type) {\r\n            node.type = type;\r\n        }\r\n        if (location && node.loc) {\r\n            node.loc.end = pos;\r\n        }\r\n    }\r\n    function parseText(tokenizer, value) {\r\n        const context = tokenizer.context();\r\n        const node = startNode(3 /* NodeTypes.Text */, context.offset, context.startLoc);\r\n        node.value = value;\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseList(tokenizer, index) {\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\r\n        const node = startNode(5 /* NodeTypes.List */, offset, loc);\r\n        node.index = parseInt(index, 10);\r\n        tokenizer.nextToken(); // skip brach right\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseNamed(tokenizer, key) {\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\r\n        const node = startNode(4 /* NodeTypes.Named */, offset, loc);\r\n        node.key = key;\r\n        tokenizer.nextToken(); // skip brach right\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseLiteral(tokenizer, value) {\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\r\n        const node = startNode(9 /* NodeTypes.Literal */, offset, loc);\r\n        node.value = value.replace(KNOWN_ESCAPES, fromEscapeSequence);\r\n        tokenizer.nextToken(); // skip brach right\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseLinkedModifier(tokenizer) {\r\n        const token = tokenizer.nextToken();\r\n        const context = tokenizer.context();\r\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get linked dot loc\r\n        const node = startNode(8 /* NodeTypes.LinkedModifier */, offset, loc);\r\n        if (token.type !== 12 /* TokenTypes.LinkedModifier */) {\r\n            // empty modifier\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER, context.lastStartLoc, 0);\r\n            node.value = '';\r\n            endNode(node, offset, loc);\r\n            return {\r\n                nextConsumeToken: token,\r\n                node\r\n            };\r\n        }\r\n        // check token\r\n        if (token.value == null) {\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n        }\r\n        node.value = token.value || '';\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return {\r\n            node\r\n        };\r\n    }\r\n    function parseLinkedKey(tokenizer, value) {\r\n        const context = tokenizer.context();\r\n        const node = startNode(7 /* NodeTypes.LinkedKey */, context.offset, context.startLoc);\r\n        node.value = value;\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseLinked(tokenizer) {\r\n        const context = tokenizer.context();\r\n        const linkedNode = startNode(6 /* NodeTypes.Linked */, context.offset, context.startLoc);\r\n        let token = tokenizer.nextToken();\r\n        if (token.type === 9 /* TokenTypes.LinkedDot */) {\r\n            const parsed = parseLinkedModifier(tokenizer);\r\n            linkedNode.modifier = parsed.node;\r\n            token = parsed.nextConsumeToken || tokenizer.nextToken();\r\n        }\r\n        // asset check token\r\n        if (token.type !== 10 /* TokenTypes.LinkedDelimiter */) {\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n        }\r\n        token = tokenizer.nextToken();\r\n        // skip brace left\r\n        if (token.type === 2 /* TokenTypes.BraceLeft */) {\r\n            token = tokenizer.nextToken();\r\n        }\r\n        switch (token.type) {\r\n            case 11 /* TokenTypes.LinkedKey */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseLinkedKey(tokenizer, token.value || '');\r\n                break;\r\n            case 5 /* TokenTypes.Named */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseNamed(tokenizer, token.value || '');\r\n                break;\r\n            case 6 /* TokenTypes.List */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseList(tokenizer, token.value || '');\r\n                break;\r\n            case 7 /* TokenTypes.Literal */:\r\n                if (token.value == null) {\r\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                }\r\n                linkedNode.key = parseLiteral(tokenizer, token.value || '');\r\n                break;\r\n            default:\r\n                // empty key\r\n                emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY, context.lastStartLoc, 0);\r\n                const nextContext = tokenizer.context();\r\n                const emptyLinkedKeyNode = startNode(7 /* NodeTypes.LinkedKey */, nextContext.offset, nextContext.startLoc);\r\n                emptyLinkedKeyNode.value = '';\r\n                endNode(emptyLinkedKeyNode, nextContext.offset, nextContext.startLoc);\r\n                linkedNode.key = emptyLinkedKeyNode;\r\n                endNode(linkedNode, nextContext.offset, nextContext.startLoc);\r\n                return {\r\n                    nextConsumeToken: token,\r\n                    node: linkedNode\r\n                };\r\n        }\r\n        endNode(linkedNode, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return {\r\n            node: linkedNode\r\n        };\r\n    }\r\n    function parseMessage(tokenizer) {\r\n        const context = tokenizer.context();\r\n        const startOffset = context.currentType === 1 /* TokenTypes.Pipe */\r\n            ? tokenizer.currentOffset()\r\n            : context.offset;\r\n        const startLoc = context.currentType === 1 /* TokenTypes.Pipe */\r\n            ? context.endLoc\r\n            : context.startLoc;\r\n        const node = startNode(2 /* NodeTypes.Message */, startOffset, startLoc);\r\n        node.items = [];\r\n        let nextToken = null;\r\n        do {\r\n            const token = nextToken || tokenizer.nextToken();\r\n            nextToken = null;\r\n            switch (token.type) {\r\n                case 0 /* TokenTypes.Text */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseText(tokenizer, token.value || ''));\r\n                    break;\r\n                case 6 /* TokenTypes.List */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseList(tokenizer, token.value || ''));\r\n                    break;\r\n                case 5 /* TokenTypes.Named */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseNamed(tokenizer, token.value || ''));\r\n                    break;\r\n                case 7 /* TokenTypes.Literal */:\r\n                    if (token.value == null) {\r\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\r\n                    }\r\n                    node.items.push(parseLiteral(tokenizer, token.value || ''));\r\n                    break;\r\n                case 8 /* TokenTypes.LinkedAlias */:\r\n                    const parsed = parseLinked(tokenizer);\r\n                    node.items.push(parsed.node);\r\n                    nextToken = parsed.nextConsumeToken || null;\r\n                    break;\r\n            }\r\n        } while (context.currentType !== 14 /* TokenTypes.EOF */ &&\r\n            context.currentType !== 1 /* TokenTypes.Pipe */);\r\n        // adjust message node loc\r\n        const endOffset = context.currentType === 1 /* TokenTypes.Pipe */\r\n            ? context.lastOffset\r\n            : tokenizer.currentOffset();\r\n        const endLoc = context.currentType === 1 /* TokenTypes.Pipe */\r\n            ? context.lastEndLoc\r\n            : tokenizer.currentPosition();\r\n        endNode(node, endOffset, endLoc);\r\n        return node;\r\n    }\r\n    function parsePlural(tokenizer, offset, loc, msgNode) {\r\n        const context = tokenizer.context();\r\n        let hasEmptyMessage = msgNode.items.length === 0;\r\n        const node = startNode(1 /* NodeTypes.Plural */, offset, loc);\r\n        node.cases = [];\r\n        node.cases.push(msgNode);\r\n        do {\r\n            const msg = parseMessage(tokenizer);\r\n            if (!hasEmptyMessage) {\r\n                hasEmptyMessage = msg.items.length === 0;\r\n            }\r\n            node.cases.push(msg);\r\n        } while (context.currentType !== 14 /* TokenTypes.EOF */);\r\n        if (hasEmptyMessage) {\r\n            emitError(tokenizer, CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL, loc, 0);\r\n        }\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    function parseResource(tokenizer) {\r\n        const context = tokenizer.context();\r\n        const { offset, startLoc } = context;\r\n        const msgNode = parseMessage(tokenizer);\r\n        if (context.currentType === 14 /* TokenTypes.EOF */) {\r\n            return msgNode;\r\n        }\r\n        else {\r\n            return parsePlural(tokenizer, offset, startLoc, msgNode);\r\n        }\r\n    }\r\n    function parse(source) {\r\n        const tokenizer = createTokenizer(source, assign({}, options));\r\n        const context = tokenizer.context();\r\n        const node = startNode(0 /* NodeTypes.Resource */, context.offset, context.startLoc);\r\n        if (location && node.loc) {\r\n            node.loc.source = source;\r\n        }\r\n        node.body = parseResource(tokenizer);\r\n        // assert whether achieved to EOF\r\n        if (context.currentType !== 14 /* TokenTypes.EOF */) {\r\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, source[context.offset] || '');\r\n        }\r\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\r\n        return node;\r\n    }\r\n    return { parse };\r\n}\r\nfunction getTokenCaption(token) {\r\n    if (token.type === 14 /* TokenTypes.EOF */) {\r\n        return 'EOF';\r\n    }\r\n    const name = (token.value || '').replace(/\\r?\\n/gu, '\\\\n');\r\n    return name.length > 10 ? name.slice(0, 9) + 'â¦' : name;\r\n}\n\nfunction createTransformer(ast, options = {} // eslint-disable-line\r\n) {\r\n    const _context = {\r\n        ast,\r\n        helpers: new Set()\r\n    };\r\n    const context = () => _context;\r\n    const helper = (name) => {\r\n        _context.helpers.add(name);\r\n        return name;\r\n    };\r\n    return { context, helper };\r\n}\r\nfunction traverseNodes(nodes, transformer) {\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        traverseNode(nodes[i], transformer);\r\n    }\r\n}\r\nfunction traverseNode(node, transformer) {\r\n    // TODO: if we need pre-hook of transform, should be implemented to here\r\n    switch (node.type) {\r\n        case 1 /* NodeTypes.Plural */:\r\n            traverseNodes(node.cases, transformer);\r\n            transformer.helper(\"plural\" /* HelperNameMap.PLURAL */);\r\n            break;\r\n        case 2 /* NodeTypes.Message */:\r\n            traverseNodes(node.items, transformer);\r\n            break;\r\n        case 6 /* NodeTypes.Linked */:\r\n            const linked = node;\r\n            traverseNode(linked.key, transformer);\r\n            transformer.helper(\"linked\" /* HelperNameMap.LINKED */);\r\n            transformer.helper(\"type\" /* HelperNameMap.TYPE */);\r\n            break;\r\n        case 5 /* NodeTypes.List */:\r\n            transformer.helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */);\r\n            transformer.helper(\"list\" /* HelperNameMap.LIST */);\r\n            break;\r\n        case 4 /* NodeTypes.Named */:\r\n            transformer.helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */);\r\n            transformer.helper(\"named\" /* HelperNameMap.NAMED */);\r\n            break;\r\n    }\r\n    // TODO: if we need post-hook of transform, should be implemented to here\r\n}\r\n// transform AST\r\nfunction transform(ast, options = {} // eslint-disable-line\r\n) {\r\n    const transformer = createTransformer(ast);\r\n    transformer.helper(\"normalize\" /* HelperNameMap.NORMALIZE */);\r\n    // traverse\r\n    ast.body && traverseNode(ast.body, transformer);\r\n    // set meta information\r\n    const context = transformer.context();\r\n    ast.helpers = Array.from(context.helpers);\r\n}\n\nfunction createCodeGenerator(ast, options) {\r\n    const { sourceMap, filename, breakLineCode, needIndent: _needIndent } = options;\r\n    const _context = {\r\n        source: ast.loc.source,\r\n        filename,\r\n        code: '',\r\n        column: 1,\r\n        line: 1,\r\n        offset: 0,\r\n        map: undefined,\r\n        breakLineCode,\r\n        needIndent: _needIndent,\r\n        indentLevel: 0\r\n    };\r\n    const context = () => _context;\r\n    function push(code, node) {\r\n        _context.code += code;\r\n    }\r\n    function _newline(n, withBreakLine = true) {\r\n        const _breakLineCode = withBreakLine ? breakLineCode : '';\r\n        push(_needIndent ? _breakLineCode + `  `.repeat(n) : _breakLineCode);\r\n    }\r\n    function indent(withNewLine = true) {\r\n        const level = ++_context.indentLevel;\r\n        withNewLine && _newline(level);\r\n    }\r\n    function deindent(withNewLine = true) {\r\n        const level = --_context.indentLevel;\r\n        withNewLine && _newline(level);\r\n    }\r\n    function newline() {\r\n        _newline(_context.indentLevel);\r\n    }\r\n    const helper = (key) => `_${key}`;\r\n    const needIndent = () => _context.needIndent;\r\n    return {\r\n        context,\r\n        push,\r\n        indent,\r\n        deindent,\r\n        newline,\r\n        helper,\r\n        needIndent\r\n    };\r\n}\r\nfunction generateLinkedNode(generator, node) {\r\n    const { helper } = generator;\r\n    generator.push(`${helper(\"linked\" /* HelperNameMap.LINKED */)}(`);\r\n    generateNode(generator, node.key);\r\n    if (node.modifier) {\r\n        generator.push(`, `);\r\n        generateNode(generator, node.modifier);\r\n        generator.push(`, _type`);\r\n    }\r\n    else {\r\n        generator.push(`, undefined, _type`);\r\n    }\r\n    generator.push(`)`);\r\n}\r\nfunction generateMessageNode(generator, node) {\r\n    const { helper, needIndent } = generator;\r\n    generator.push(`${helper(\"normalize\" /* HelperNameMap.NORMALIZE */)}([`);\r\n    generator.indent(needIndent());\r\n    const length = node.items.length;\r\n    for (let i = 0; i < length; i++) {\r\n        generateNode(generator, node.items[i]);\r\n        if (i === length - 1) {\r\n            break;\r\n        }\r\n        generator.push(', ');\r\n    }\r\n    generator.deindent(needIndent());\r\n    generator.push('])');\r\n}\r\nfunction generatePluralNode(generator, node) {\r\n    const { helper, needIndent } = generator;\r\n    if (node.cases.length > 1) {\r\n        generator.push(`${helper(\"plural\" /* HelperNameMap.PLURAL */)}([`);\r\n        generator.indent(needIndent());\r\n        const length = node.cases.length;\r\n        for (let i = 0; i < length; i++) {\r\n            generateNode(generator, node.cases[i]);\r\n            if (i === length - 1) {\r\n                break;\r\n            }\r\n            generator.push(', ');\r\n        }\r\n        generator.deindent(needIndent());\r\n        generator.push(`])`);\r\n    }\r\n}\r\nfunction generateResource(generator, node) {\r\n    if (node.body) {\r\n        generateNode(generator, node.body);\r\n    }\r\n    else {\r\n        generator.push('null');\r\n    }\r\n}\r\nfunction generateNode(generator, node) {\r\n    const { helper } = generator;\r\n    switch (node.type) {\r\n        case 0 /* NodeTypes.Resource */:\r\n            generateResource(generator, node);\r\n            break;\r\n        case 1 /* NodeTypes.Plural */:\r\n            generatePluralNode(generator, node);\r\n            break;\r\n        case 2 /* NodeTypes.Message */:\r\n            generateMessageNode(generator, node);\r\n            break;\r\n        case 6 /* NodeTypes.Linked */:\r\n            generateLinkedNode(generator, node);\r\n            break;\r\n        case 8 /* NodeTypes.LinkedModifier */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        case 7 /* NodeTypes.LinkedKey */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        case 5 /* NodeTypes.List */:\r\n            generator.push(`${helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */)}(${helper(\"list\" /* HelperNameMap.LIST */)}(${node.index}))`, node);\r\n            break;\r\n        case 4 /* NodeTypes.Named */:\r\n            generator.push(`${helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */)}(${helper(\"named\" /* HelperNameMap.NAMED */)}(${JSON.stringify(node.key)}))`, node);\r\n            break;\r\n        case 9 /* NodeTypes.Literal */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        case 3 /* NodeTypes.Text */:\r\n            generator.push(JSON.stringify(node.value), node);\r\n            break;\r\n        default:\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                throw new Error(`unhandled codegen node type: ${node.type}`);\r\n            }\r\n    }\r\n}\r\n// generate code from AST\r\nconst generate = (ast, options = {} // eslint-disable-line\r\n) => {\r\n    const mode = isString(options.mode) ? options.mode : 'normal';\r\n    const filename = isString(options.filename)\r\n        ? options.filename\r\n        : 'message.intl';\r\n    const sourceMap = !!options.sourceMap;\r\n    // prettier-ignore\r\n    const breakLineCode = options.breakLineCode != null\r\n        ? options.breakLineCode\r\n        : mode === 'arrow'\r\n            ? ';'\r\n            : '\\n';\r\n    const needIndent = options.needIndent ? options.needIndent : mode !== 'arrow';\r\n    const helpers = ast.helpers || [];\r\n    const generator = createCodeGenerator(ast, {\r\n        mode,\r\n        filename,\r\n        sourceMap,\r\n        breakLineCode,\r\n        needIndent\r\n    });\r\n    generator.push(mode === 'normal' ? `function __msg__ (ctx) {` : `(ctx) => {`);\r\n    generator.indent(needIndent);\r\n    if (helpers.length > 0) {\r\n        generator.push(`const { ${helpers.map(s => `${s}: _${s}`).join(', ')} } = ctx`);\r\n        generator.newline();\r\n    }\r\n    generator.push(`return `);\r\n    generateNode(generator, ast);\r\n    generator.deindent(needIndent);\r\n    generator.push(`}`);\r\n    const { code, map } = generator.context();\r\n    return {\r\n        ast,\r\n        code,\r\n        map: map ? map.toJSON() : undefined // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    };\r\n};\n\nfunction baseCompile(source, options = {}) {\r\n    const assignedOptions = assign({}, options);\r\n    // parse source codes\r\n    const parser = createParser(assignedOptions);\r\n    const ast = parser.parse(source);\r\n    // transform ASTs\r\n    transform(ast, assignedOptions);\r\n    // generate javascript codes\r\n    return generate(ast, assignedOptions);\r\n}\n\nexport { CompileErrorCodes, ERROR_DOMAIN, LocationStub, baseCompile, createCompileError, createLocation, createParser, createPosition, defaultOnError, errorMessages };\n","/*!\n  * devtools-if v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nconst IntlifyDevToolsHooks =  {\r\n    I18nInit: 'i18n:init',\r\n    FunctionTranslate: 'function:translate'\r\n};\n\nexport { IntlifyDevToolsHooks };\n","/*!\n  * core-base v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { isObject, isString, isFunction, isNumber, isPlainObject, toDisplayString, isArray, format, isBoolean, assign, isRegExp, warn, escapeHtml, inBrowser, mark, measure, isEmptyObject, generateCodeFrame, generateFormatCacheKey, isDate, getGlobalThis } from '@intlify/shared';\nimport { defaultOnError, baseCompile, CompileErrorCodes, createCompileError } from '@intlify/message-compiler';\nexport { CompileErrorCodes, createCompileError } from '@intlify/message-compiler';\nimport { IntlifyDevToolsHooks } from '@intlify/devtools-if';\n\nconst pathStateMachine =  [];\r\npathStateMachine[0 /* BEFORE_PATH */] = {\r\n    [\"w\" /* WORKSPACE */]: [0 /* BEFORE_PATH */],\r\n    [\"i\" /* IDENT */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"[\" /* LEFT_BRACKET */]: [4 /* IN_SUB_PATH */],\r\n    [\"o\" /* END_OF_FAIL */]: [7 /* AFTER_PATH */]\r\n};\r\npathStateMachine[1 /* IN_PATH */] = {\r\n    [\"w\" /* WORKSPACE */]: [1 /* IN_PATH */],\r\n    [\".\" /* DOT */]: [2 /* BEFORE_IDENT */],\r\n    [\"[\" /* LEFT_BRACKET */]: [4 /* IN_SUB_PATH */],\r\n    [\"o\" /* END_OF_FAIL */]: [7 /* AFTER_PATH */]\r\n};\r\npathStateMachine[2 /* BEFORE_IDENT */] = {\r\n    [\"w\" /* WORKSPACE */]: [2 /* BEFORE_IDENT */],\r\n    [\"i\" /* IDENT */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"0\" /* ZERO */]: [3 /* IN_IDENT */, 0 /* APPEND */]\r\n};\r\npathStateMachine[3 /* IN_IDENT */] = {\r\n    [\"i\" /* IDENT */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"0\" /* ZERO */]: [3 /* IN_IDENT */, 0 /* APPEND */],\r\n    [\"w\" /* WORKSPACE */]: [1 /* IN_PATH */, 1 /* PUSH */],\r\n    [\".\" /* DOT */]: [2 /* BEFORE_IDENT */, 1 /* PUSH */],\r\n    [\"[\" /* LEFT_BRACKET */]: [4 /* IN_SUB_PATH */, 1 /* PUSH */],\r\n    [\"o\" /* END_OF_FAIL */]: [7 /* AFTER_PATH */, 1 /* PUSH */]\r\n};\r\npathStateMachine[4 /* IN_SUB_PATH */] = {\r\n    [\"'\" /* SINGLE_QUOTE */]: [5 /* IN_SINGLE_QUOTE */, 0 /* APPEND */],\r\n    [\"\\\"\" /* DOUBLE_QUOTE */]: [6 /* IN_DOUBLE_QUOTE */, 0 /* APPEND */],\r\n    [\"[\" /* LEFT_BRACKET */]: [\r\n        4 /* IN_SUB_PATH */,\r\n        2 /* INC_SUB_PATH_DEPTH */\r\n    ],\r\n    [\"]\" /* RIGHT_BRACKET */]: [1 /* IN_PATH */, 3 /* PUSH_SUB_PATH */],\r\n    [\"o\" /* END_OF_FAIL */]: 8 /* ERROR */,\r\n    [\"l\" /* ELSE */]: [4 /* IN_SUB_PATH */, 0 /* APPEND */]\r\n};\r\npathStateMachine[5 /* IN_SINGLE_QUOTE */] = {\r\n    [\"'\" /* SINGLE_QUOTE */]: [4 /* IN_SUB_PATH */, 0 /* APPEND */],\r\n    [\"o\" /* END_OF_FAIL */]: 8 /* ERROR */,\r\n    [\"l\" /* ELSE */]: [5 /* IN_SINGLE_QUOTE */, 0 /* APPEND */]\r\n};\r\npathStateMachine[6 /* IN_DOUBLE_QUOTE */] = {\r\n    [\"\\\"\" /* DOUBLE_QUOTE */]: [4 /* IN_SUB_PATH */, 0 /* APPEND */],\r\n    [\"o\" /* END_OF_FAIL */]: 8 /* ERROR */,\r\n    [\"l\" /* ELSE */]: [6 /* IN_DOUBLE_QUOTE */, 0 /* APPEND */]\r\n};\r\n/**\r\n * Check if an expression is a literal value.\r\n */\r\nconst literalValueRE = /^\\s?(?:true|false|-?[\\d.]+|'[^']*'|\"[^\"]*\")\\s?$/;\r\nfunction isLiteral(exp) {\r\n    return literalValueRE.test(exp);\r\n}\r\n/**\r\n * Strip quotes from a string\r\n */\r\nfunction stripQuotes(str) {\r\n    const a = str.charCodeAt(0);\r\n    const b = str.charCodeAt(str.length - 1);\r\n    return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\r\n}\r\n/**\r\n * Determine the type of a character in a keypath.\r\n */\r\nfunction getPathCharType(ch) {\r\n    if (ch === undefined || ch === null) {\r\n        return \"o\" /* END_OF_FAIL */;\r\n    }\r\n    const code = ch.charCodeAt(0);\r\n    switch (code) {\r\n        case 0x5b: // [\r\n        case 0x5d: // ]\r\n        case 0x2e: // .\r\n        case 0x22: // \"\r\n        case 0x27: // '\r\n            return ch;\r\n        case 0x5f: // _\r\n        case 0x24: // $\r\n        case 0x2d: // -\r\n            return \"i\" /* IDENT */;\r\n        case 0x09: // Tab (HT)\r\n        case 0x0a: // Newline (LF)\r\n        case 0x0d: // Return (CR)\r\n        case 0xa0: // No-break space (NBSP)\r\n        case 0xfeff: // Byte Order Mark (BOM)\r\n        case 0x2028: // Line Separator (LS)\r\n        case 0x2029: // Paragraph Separator (PS)\r\n            return \"w\" /* WORKSPACE */;\r\n    }\r\n    return \"i\" /* IDENT */;\r\n}\r\n/**\r\n * Format a subPath, return its plain form if it is\r\n * a literal string or number. Otherwise prepend the\r\n * dynamic indicator (*).\r\n */\r\nfunction formatSubPath(path) {\r\n    const trimmed = path.trim();\r\n    // invalid leading 0\r\n    if (path.charAt(0) === '0' && isNaN(parseInt(path))) {\r\n        return false;\r\n    }\r\n    return isLiteral(trimmed)\r\n        ? stripQuotes(trimmed)\r\n        : \"*\" /* ASTARISK */ + trimmed;\r\n}\r\n/**\r\n * Parse a string path into an array of segments\r\n */\r\nfunction parse(path) {\r\n    const keys = [];\r\n    let index = -1;\r\n    let mode = 0 /* BEFORE_PATH */;\r\n    let subPathDepth = 0;\r\n    let c;\r\n    let key; // eslint-disable-line\r\n    let newChar;\r\n    let type;\r\n    let transition;\r\n    let action;\r\n    let typeMap;\r\n    const actions = [];\r\n    actions[0 /* APPEND */] = () => {\r\n        if (key === undefined) {\r\n            key = newChar;\r\n        }\r\n        else {\r\n            key += newChar;\r\n        }\r\n    };\r\n    actions[1 /* PUSH */] = () => {\r\n        if (key !== undefined) {\r\n            keys.push(key);\r\n            key = undefined;\r\n        }\r\n    };\r\n    actions[2 /* INC_SUB_PATH_DEPTH */] = () => {\r\n        actions[0 /* APPEND */]();\r\n        subPathDepth++;\r\n    };\r\n    actions[3 /* PUSH_SUB_PATH */] = () => {\r\n        if (subPathDepth > 0) {\r\n            subPathDepth--;\r\n            mode = 4 /* IN_SUB_PATH */;\r\n            actions[0 /* APPEND */]();\r\n        }\r\n        else {\r\n            subPathDepth = 0;\r\n            if (key === undefined) {\r\n                return false;\r\n            }\r\n            key = formatSubPath(key);\r\n            if (key === false) {\r\n                return false;\r\n            }\r\n            else {\r\n                actions[1 /* PUSH */]();\r\n            }\r\n        }\r\n    };\r\n    function maybeUnescapeQuote() {\r\n        const nextChar = path[index + 1];\r\n        if ((mode === 5 /* IN_SINGLE_QUOTE */ &&\r\n            nextChar === \"'\" /* SINGLE_QUOTE */) ||\r\n            (mode === 6 /* IN_DOUBLE_QUOTE */ &&\r\n                nextChar === \"\\\"\" /* DOUBLE_QUOTE */)) {\r\n            index++;\r\n            newChar = '\\\\' + nextChar;\r\n            actions[0 /* APPEND */]();\r\n            return true;\r\n        }\r\n    }\r\n    while (mode !== null) {\r\n        index++;\r\n        c = path[index];\r\n        if (c === '\\\\' && maybeUnescapeQuote()) {\r\n            continue;\r\n        }\r\n        type = getPathCharType(c);\r\n        typeMap = pathStateMachine[mode];\r\n        transition = typeMap[type] || typeMap[\"l\" /* ELSE */] || 8 /* ERROR */;\r\n        // check parse error\r\n        if (transition === 8 /* ERROR */) {\r\n            return;\r\n        }\r\n        mode = transition[0];\r\n        if (transition[1] !== undefined) {\r\n            action = actions[transition[1]];\r\n            if (action) {\r\n                newChar = c;\r\n                if (action() === false) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // check parse finish\r\n        if (mode === 7 /* AFTER_PATH */) {\r\n            return keys;\r\n        }\r\n    }\r\n}\r\n// path token cache\r\nconst cache = new Map();\r\n/**\r\n * key-value message resolver\r\n *\r\n * @remarks\r\n * Resolves messages with the key-value structure. Note that messages with a hierarchical structure such as objects cannot be resolved\r\n *\r\n * @param obj - A target object to be resolved with path\r\n * @param path - A {@link Path | path} to resolve the value of message\r\n *\r\n * @returns A resolved {@link PathValue | path value}\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction resolveWithKeyValue(obj, path) {\r\n    return isObject(obj) ? obj[path] : null;\r\n}\r\n/**\r\n * message resolver\r\n *\r\n * @remarks\r\n * Resolves messages. messages with a hierarchical structure such as objects can be resolved. This resolver is used in VueI18n as default.\r\n *\r\n * @param obj - A target object to be resolved with path\r\n * @param path - A {@link Path | path} to resolve the value of message\r\n *\r\n * @returns A resolved {@link PathValue | path value}\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction resolveValue(obj, path) {\r\n    // check object\r\n    if (!isObject(obj)) {\r\n        return null;\r\n    }\r\n    // parse path\r\n    let hit = cache.get(path);\r\n    if (!hit) {\r\n        hit = parse(path);\r\n        if (hit) {\r\n            cache.set(path, hit);\r\n        }\r\n    }\r\n    // check hit\r\n    if (!hit) {\r\n        return null;\r\n    }\r\n    // resolve path value\r\n    const len = hit.length;\r\n    let last = obj;\r\n    let i = 0;\r\n    while (i < len) {\r\n        const val = last[hit[i]];\r\n        if (val === undefined) {\r\n            return null;\r\n        }\r\n        last = val;\r\n        i++;\r\n    }\r\n    return last;\r\n}\n\nconst DEFAULT_MODIFIER = (str) => str;\r\nconst DEFAULT_MESSAGE = (ctx) => ''; // eslint-disable-line\r\nconst DEFAULT_MESSAGE_DATA_TYPE = 'text';\r\nconst DEFAULT_NORMALIZE = (values) => values.length === 0 ? '' : values.join('');\r\nconst DEFAULT_INTERPOLATE = toDisplayString;\r\nfunction pluralDefault(choice, choicesLength) {\r\n    choice = Math.abs(choice);\r\n    if (choicesLength === 2) {\r\n        // prettier-ignore\r\n        return choice\r\n            ? choice > 1\r\n                ? 1\r\n                : 0\r\n            : 1;\r\n    }\r\n    return choice ? Math.min(choice, 2) : 0;\r\n}\r\nfunction getPluralIndex(options) {\r\n    // prettier-ignore\r\n    const index = isNumber(options.pluralIndex)\r\n        ? options.pluralIndex\r\n        : -1;\r\n    // prettier-ignore\r\n    return options.named && (isNumber(options.named.count) || isNumber(options.named.n))\r\n        ? isNumber(options.named.count)\r\n            ? options.named.count\r\n            : isNumber(options.named.n)\r\n                ? options.named.n\r\n                : index\r\n        : index;\r\n}\r\nfunction normalizeNamed(pluralIndex, props) {\r\n    if (!props.count) {\r\n        props.count = pluralIndex;\r\n    }\r\n    if (!props.n) {\r\n        props.n = pluralIndex;\r\n    }\r\n}\r\nfunction createMessageContext(options = {}) {\r\n    const locale = options.locale;\r\n    const pluralIndex = getPluralIndex(options);\r\n    const pluralRule = isObject(options.pluralRules) &&\r\n        isString(locale) &&\r\n        isFunction(options.pluralRules[locale])\r\n        ? options.pluralRules[locale]\r\n        : pluralDefault;\r\n    const orgPluralRule = isObject(options.pluralRules) &&\r\n        isString(locale) &&\r\n        isFunction(options.pluralRules[locale])\r\n        ? pluralDefault\r\n        : undefined;\r\n    const plural = (messages) => {\r\n        return messages[pluralRule(pluralIndex, messages.length, orgPluralRule)];\r\n    };\r\n    const _list = options.list || [];\r\n    const list = (index) => _list[index];\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const _named = options.named || {};\r\n    isNumber(options.pluralIndex) && normalizeNamed(pluralIndex, _named);\r\n    const named = (key) => _named[key];\r\n    function message(key) {\r\n        // prettier-ignore\r\n        const msg = isFunction(options.messages)\r\n            ? options.messages(key)\r\n            : isObject(options.messages)\r\n                ? options.messages[key]\r\n                : false;\r\n        return !msg\r\n            ? options.parent\r\n                ? options.parent.message(key) // resolve from parent messages\r\n                : DEFAULT_MESSAGE\r\n            : msg;\r\n    }\r\n    const _modifier = (name) => options.modifiers\r\n        ? options.modifiers[name]\r\n        : DEFAULT_MODIFIER;\r\n    const normalize = isPlainObject(options.processor) && isFunction(options.processor.normalize)\r\n        ? options.processor.normalize\r\n        : DEFAULT_NORMALIZE;\r\n    const interpolate = isPlainObject(options.processor) &&\r\n        isFunction(options.processor.interpolate)\r\n        ? options.processor.interpolate\r\n        : DEFAULT_INTERPOLATE;\r\n    const type = isPlainObject(options.processor) && isString(options.processor.type)\r\n        ? options.processor.type\r\n        : DEFAULT_MESSAGE_DATA_TYPE;\r\n    const linked = (key, ...args) => {\r\n        const [arg1, arg2] = args;\r\n        let type = 'text';\r\n        let modifier = '';\r\n        if (args.length === 1) {\r\n            if (isObject(arg1)) {\r\n                modifier = arg1.modifier || modifier;\r\n                type = arg1.type || type;\r\n            }\r\n            else if (isString(arg1)) {\r\n                modifier = arg1 || modifier;\r\n            }\r\n        }\r\n        else if (args.length === 2) {\r\n            if (isString(arg1)) {\r\n                modifier = arg1 || modifier;\r\n            }\r\n            if (isString(arg2)) {\r\n                type = arg2 || type;\r\n            }\r\n        }\r\n        let msg = message(key)(ctx);\r\n        // The message in vnode resolved with linked are returned as an array by processor.nomalize\r\n        if (type === 'vnode' && isArray(msg) && modifier) {\r\n            msg = msg[0];\r\n        }\r\n        return modifier ? _modifier(modifier)(msg, type) : msg;\r\n    };\r\n    const ctx = {\r\n        [\"list\" /* LIST */]: list,\r\n        [\"named\" /* NAMED */]: named,\r\n        [\"plural\" /* PLURAL */]: plural,\r\n        [\"linked\" /* LINKED */]: linked,\r\n        [\"message\" /* MESSAGE */]: message,\r\n        [\"type\" /* TYPE */]: type,\r\n        [\"interpolate\" /* INTERPOLATE */]: interpolate,\r\n        [\"normalize\" /* NORMALIZE */]: normalize\r\n    };\r\n    return ctx;\r\n}\n\nlet devtools = null;\r\nfunction setDevToolsHook(hook) {\r\n    devtools = hook;\r\n}\r\nfunction getDevToolsHook() {\r\n    return devtools;\r\n}\r\nfunction initI18nDevTools(i18n, version, meta) {\r\n    // TODO: queue if devtools is undefined\r\n    devtools &&\r\n        devtools.emit(IntlifyDevToolsHooks.I18nInit, {\r\n            timestamp: Date.now(),\r\n            i18n,\r\n            version,\r\n            meta\r\n        });\r\n}\r\nconst translateDevTools = /* #__PURE__*/ createDevToolsHook(IntlifyDevToolsHooks.FunctionTranslate);\r\nfunction createDevToolsHook(hook) {\r\n    return (payloads) => devtools && devtools.emit(hook, payloads);\r\n}\n\nconst CoreWarnCodes = {\r\n    NOT_FOUND_KEY: 1,\r\n    FALLBACK_TO_TRANSLATE: 2,\r\n    CANNOT_FORMAT_NUMBER: 3,\r\n    FALLBACK_TO_NUMBER_FORMAT: 4,\r\n    CANNOT_FORMAT_DATE: 5,\r\n    FALLBACK_TO_DATE_FORMAT: 6,\r\n    __EXTEND_POINT__: 7\r\n};\r\n/** @internal */\r\nconst warnMessages = {\r\n    [CoreWarnCodes.NOT_FOUND_KEY]: `Not found '{key}' key in '{locale}' locale messages.`,\r\n    [CoreWarnCodes.FALLBACK_TO_TRANSLATE]: `Fall back to translate '{key}' key with '{target}' locale.`,\r\n    [CoreWarnCodes.CANNOT_FORMAT_NUMBER]: `Cannot format a number value due to not supported Intl.NumberFormat.`,\r\n    [CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT]: `Fall back to number format '{key}' key with '{target}' locale.`,\r\n    [CoreWarnCodes.CANNOT_FORMAT_DATE]: `Cannot format a date value due to not supported Intl.DateTimeFormat.`,\r\n    [CoreWarnCodes.FALLBACK_TO_DATE_FORMAT]: `Fall back to datetime format '{key}' key with '{target}' locale.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return format(warnMessages[code], ...args);\r\n}\n\n/**\r\n * Fallback with simple implemenation\r\n *\r\n * @remarks\r\n * A fallback locale function implemented with a simple fallback algorithm.\r\n *\r\n * Basically, it returns the value as specified in the `fallbackLocale` props, and is processed with the fallback inside intlify.\r\n *\r\n * @param ctx - A {@link CoreContext | context}\r\n * @param fallback - A {@link FallbackLocale | fallback locale}\r\n * @param start - A starting {@link Locale | locale}\r\n *\r\n * @returns Fallback locales\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction fallbackWithSimple(ctx, fallback, start // eslint-disable-line @typescript-eslint/no-unused-vars\r\n) {\r\n    // prettier-ignore\r\n    return [...new Set([\r\n            start,\r\n            ...(isArray(fallback)\r\n                ? fallback\r\n                : isObject(fallback)\r\n                    ? Object.keys(fallback)\r\n                    : isString(fallback)\r\n                        ? [fallback]\r\n                        : [start])\r\n        ])];\r\n}\r\n/**\r\n * Fallback with locale chain\r\n *\r\n * @remarks\r\n * A fallback locale function implemented with a fallback chain algorithm. It's used in VueI18n as default.\r\n *\r\n * @param ctx - A {@link CoreContext | context}\r\n * @param fallback - A {@link FallbackLocale | fallback locale}\r\n * @param start - A starting {@link Locale | locale}\r\n *\r\n * @returns Fallback locales\r\n *\r\n * @VueI18nSee [Fallbacking](../guide/essentials/fallback)\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction fallbackWithLocaleChain(ctx, fallback, start) {\r\n    const startLocale = isString(start) ? start : DEFAULT_LOCALE;\r\n    const context = ctx;\r\n    if (!context.__localeChainCache) {\r\n        context.__localeChainCache = new Map();\r\n    }\r\n    let chain = context.__localeChainCache.get(startLocale);\r\n    if (!chain) {\r\n        chain = [];\r\n        // first block defined by start\r\n        let block = [start];\r\n        // while any intervening block found\r\n        while (isArray(block)) {\r\n            block = appendBlockToChain(chain, block, fallback);\r\n        }\r\n        // prettier-ignore\r\n        // last block defined by default\r\n        const defaults = isArray(fallback) || !isPlainObject(fallback)\r\n            ? fallback\r\n            : fallback['default']\r\n                ? fallback['default']\r\n                : null;\r\n        // convert defaults to array\r\n        block = isString(defaults) ? [defaults] : defaults;\r\n        if (isArray(block)) {\r\n            appendBlockToChain(chain, block, false);\r\n        }\r\n        context.__localeChainCache.set(startLocale, chain);\r\n    }\r\n    return chain;\r\n}\r\nfunction appendBlockToChain(chain, block, blocks) {\r\n    let follow = true;\r\n    for (let i = 0; i < block.length && isBoolean(follow); i++) {\r\n        const locale = block[i];\r\n        if (isString(locale)) {\r\n            follow = appendLocaleToChain(chain, block[i], blocks);\r\n        }\r\n    }\r\n    return follow;\r\n}\r\nfunction appendLocaleToChain(chain, locale, blocks) {\r\n    let follow;\r\n    const tokens = locale.split('-');\r\n    do {\r\n        const target = tokens.join('-');\r\n        follow = appendItemToChain(chain, target, blocks);\r\n        tokens.splice(-1, 1);\r\n    } while (tokens.length && follow === true);\r\n    return follow;\r\n}\r\nfunction appendItemToChain(chain, target, blocks) {\r\n    let follow = false;\r\n    if (!chain.includes(target)) {\r\n        follow = true;\r\n        if (target) {\r\n            follow = target[target.length - 1] !== '!';\r\n            const locale = target.replace(/!/g, '');\r\n            chain.push(locale);\r\n            if ((isArray(blocks) || isPlainObject(blocks)) &&\r\n                blocks[locale] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            ) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                follow = blocks[locale];\r\n            }\r\n        }\r\n    }\r\n    return follow;\r\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Intlify core-base version\r\n * @internal\r\n */\r\nconst VERSION = '9.2.2';\r\nconst NOT_REOSLVED = -1;\r\nconst DEFAULT_LOCALE = 'en-US';\r\nconst MISSING_RESOLVE_VALUE = '';\r\nconst capitalize = (str) => `${str.charAt(0).toLocaleUpperCase()}${str.substr(1)}`;\r\nfunction getDefaultLinkedModifiers() {\r\n    return {\r\n        upper: (val, type) => {\r\n            // prettier-ignore\r\n            return type === 'text' && isString(val)\r\n                ? val.toUpperCase()\r\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\r\n                    ? val.children.toUpperCase()\r\n                    : val;\r\n        },\r\n        lower: (val, type) => {\r\n            // prettier-ignore\r\n            return type === 'text' && isString(val)\r\n                ? val.toLowerCase()\r\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\r\n                    ? val.children.toLowerCase()\r\n                    : val;\r\n        },\r\n        capitalize: (val, type) => {\r\n            // prettier-ignore\r\n            return (type === 'text' && isString(val)\r\n                ? capitalize(val)\r\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\r\n                    ? capitalize(val.children)\r\n                    : val);\r\n        }\r\n    };\r\n}\r\nlet _compiler;\r\nfunction registerMessageCompiler(compiler) {\r\n    _compiler = compiler;\r\n}\r\nlet _resolver;\r\n/**\r\n * Register the message resolver\r\n *\r\n * @param resolver - A {@link MessageResolver} function\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction registerMessageResolver(resolver) {\r\n    _resolver = resolver;\r\n}\r\nlet _fallbacker;\r\n/**\r\n * Register the locale fallbacker\r\n *\r\n * @param fallbacker - A {@link LocaleFallbacker} function\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction registerLocaleFallbacker(fallbacker) {\r\n    _fallbacker = fallbacker;\r\n}\r\n// Additional Meta for Intlify DevTools\r\nlet _additionalMeta = null;\r\nconst setAdditionalMeta =  (meta) => {\r\n    _additionalMeta = meta;\r\n};\r\nconst getAdditionalMeta =  () => _additionalMeta;\r\nlet _fallbackContext = null;\r\nconst setFallbackContext = (context) => {\r\n    _fallbackContext = context;\r\n};\r\nconst getFallbackContext = () => _fallbackContext;\r\n// ID for CoreContext\r\nlet _cid = 0;\r\nfunction createCoreContext(options = {}) {\r\n    // setup options\r\n    const version = isString(options.version) ? options.version : VERSION;\r\n    const locale = isString(options.locale) ? options.locale : DEFAULT_LOCALE;\r\n    const fallbackLocale = isArray(options.fallbackLocale) ||\r\n        isPlainObject(options.fallbackLocale) ||\r\n        isString(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const messages = isPlainObject(options.messages)\r\n        ? options.messages\r\n        : { [locale]: {} };\r\n    const datetimeFormats = isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [locale]: {} }\r\n        ;\r\n    const numberFormats = isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [locale]: {} }\r\n        ;\r\n    const modifiers = assign({}, options.modifiers || {}, getDefaultLinkedModifiers());\r\n    const pluralRules = options.pluralRules || {};\r\n    const missing = isFunction(options.missing) ? options.missing : null;\r\n    const missingWarn = isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n        ? options.missingWarn\r\n        : true;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : true;\r\n    const fallbackFormat = !!options.fallbackFormat;\r\n    const unresolving = !!options.unresolving;\r\n    const postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    const processor = isPlainObject(options.processor) ? options.processor : null;\r\n    const warnHtmlMessage = isBoolean(options.warnHtmlMessage)\r\n        ? options.warnHtmlMessage\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameter;\r\n    const messageCompiler = isFunction(options.messageCompiler)\r\n        ? options.messageCompiler\r\n        : _compiler;\r\n    const messageResolver = isFunction(options.messageResolver)\r\n        ? options.messageResolver\r\n        : _resolver || resolveWithKeyValue;\r\n    const localeFallbacker = isFunction(options.localeFallbacker)\r\n        ? options.localeFallbacker\r\n        : _fallbacker || fallbackWithSimple;\r\n    const fallbackContext = isObject(options.fallbackContext)\r\n        ? options.fallbackContext\r\n        : undefined;\r\n    const onWarn = isFunction(options.onWarn) ? options.onWarn : warn;\r\n    // setup internal options\r\n    const internalOptions = options;\r\n    const __datetimeFormatters = isObject(internalOptions.__datetimeFormatters)\r\n            ? internalOptions.__datetimeFormatters\r\n            : new Map()\r\n        ;\r\n    const __numberFormatters = isObject(internalOptions.__numberFormatters)\r\n            ? internalOptions.__numberFormatters\r\n            : new Map()\r\n        ;\r\n    const __meta = isObject(internalOptions.__meta) ? internalOptions.__meta : {};\r\n    _cid++;\r\n    const context = {\r\n        version,\r\n        cid: _cid,\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        modifiers,\r\n        pluralRules,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackFormat,\r\n        unresolving,\r\n        postTranslation,\r\n        processor,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageCompiler,\r\n        messageResolver,\r\n        localeFallbacker,\r\n        fallbackContext,\r\n        onWarn,\r\n        __meta\r\n    };\r\n    {\r\n        context.datetimeFormats = datetimeFormats;\r\n        context.numberFormats = numberFormats;\r\n        context.__datetimeFormatters = __datetimeFormatters;\r\n        context.__numberFormatters = __numberFormatters;\r\n    }\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        context.__v_emitter =\r\n            internalOptions.__v_emitter != null\r\n                ? internalOptions.__v_emitter\r\n                : undefined;\r\n    }\r\n    // NOTE: experimental !!\r\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n        initI18nDevTools(context, version, __meta);\r\n    }\r\n    return context;\r\n}\r\n/** @internal */\r\nfunction isTranslateFallbackWarn(fallback, key) {\r\n    return fallback instanceof RegExp ? fallback.test(key) : fallback;\r\n}\r\n/** @internal */\r\nfunction isTranslateMissingWarn(missing, key) {\r\n    return missing instanceof RegExp ? missing.test(key) : missing;\r\n}\r\n/** @internal */\r\nfunction handleMissing(context, key, locale, missingWarn, type) {\r\n    const { missing, onWarn } = context;\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const emitter = context.__v_emitter;\r\n        if (emitter) {\r\n            emitter.emit(\"missing\" /* MISSING */, {\r\n                locale,\r\n                key,\r\n                type,\r\n                groupId: `${type}:${key}`\r\n            });\r\n        }\r\n    }\r\n    if (missing !== null) {\r\n        const ret = missing(context, locale, key, type);\r\n        return isString(ret) ? ret : key;\r\n    }\r\n    else {\r\n        if ((process.env.NODE_ENV !== 'production') && isTranslateMissingWarn(missingWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.NOT_FOUND_KEY, { key, locale }));\r\n        }\r\n        return key;\r\n    }\r\n}\r\n/** @internal */\r\nfunction updateFallbackLocale(ctx, locale, fallback) {\r\n    const context = ctx;\r\n    context.__localeChainCache = new Map();\r\n    ctx.localeFallbacker(ctx, fallback, locale);\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst RE_HTML_TAG = /<\\/?[\\w\\s=\"/.':;#-\\/]+>/;\r\nconst WARN_MESSAGE = `Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.`;\r\nfunction checkHtmlMessage(source, options) {\r\n    const warnHtmlMessage = isBoolean(options.warnHtmlMessage)\r\n        ? options.warnHtmlMessage\r\n        : true;\r\n    if (warnHtmlMessage && RE_HTML_TAG.test(source)) {\r\n        warn(format(WARN_MESSAGE, { source }));\r\n    }\r\n}\r\nconst defaultOnCacheKey = (source) => source;\r\nlet compileCache = Object.create(null);\r\nfunction clearCompileCache() {\r\n    compileCache = Object.create(null);\r\n}\r\nfunction compileToFunction(source, options = {}) {\r\n    {\r\n        // check HTML message\r\n        (process.env.NODE_ENV !== 'production') && checkHtmlMessage(source, options);\r\n        // check caches\r\n        const onCacheKey = options.onCacheKey || defaultOnCacheKey;\r\n        const key = onCacheKey(source);\r\n        const cached = compileCache[key];\r\n        if (cached) {\r\n            return cached;\r\n        }\r\n        // compile error detecting\r\n        let occurred = false;\r\n        const onError = options.onError || defaultOnError;\r\n        options.onError = (err) => {\r\n            occurred = true;\r\n            onError(err);\r\n        };\r\n        // compile\r\n        const { code } = baseCompile(source, options);\r\n        // evaluate function\r\n        const msg = new Function(`return ${code}`)();\r\n        // if occurred compile error, don't cache\r\n        return !occurred ? (compileCache[key] = msg) : msg;\r\n    }\r\n}\n\nlet code = CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst CoreErrorCodes = {\r\n    INVALID_ARGUMENT: code,\r\n    INVALID_DATE_ARGUMENT: inc(),\r\n    INVALID_ISO_DATE_ARGUMENT: inc(),\r\n    __EXTEND_POINT__: inc() // 18\r\n};\r\nfunction createCoreError(code) {\r\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages } : undefined);\r\n}\r\n/** @internal */\r\nconst errorMessages = {\r\n    [CoreErrorCodes.INVALID_ARGUMENT]: 'Invalid arguments',\r\n    [CoreErrorCodes.INVALID_DATE_ARGUMENT]: 'The date provided is an invalid Date object.' +\r\n        'Make sure your Date represents a valid date.',\r\n    [CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT]: 'The argument provided is not a valid ISO date string'\r\n};\n\nconst NOOP_MESSAGE_FUNCTION = () => '';\r\nconst isMessageFunction = (val) => isFunction(val);\r\n// implementation of `translate` function\r\nfunction translate(context, ...args) {\r\n    const { fallbackFormat, postTranslation, unresolving, messageCompiler, fallbackLocale, messages } = context;\r\n    const [key, options] = parseTranslateArgs(...args);\r\n    const missingWarn = isBoolean(options.missingWarn)\r\n        ? options.missingWarn\r\n        : context.missingWarn;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : context.fallbackWarn;\r\n    const escapeParameter = isBoolean(options.escapeParameter)\r\n        ? options.escapeParameter\r\n        : context.escapeParameter;\r\n    const resolvedMessage = !!options.resolvedMessage;\r\n    // prettier-ignore\r\n    const defaultMsgOrKey = isString(options.default) || isBoolean(options.default) // default by function option\r\n        ? !isBoolean(options.default)\r\n            ? options.default\r\n            : (!messageCompiler ? () => key : key)\r\n        : fallbackFormat // default by `fallbackFormat` option\r\n            ? (!messageCompiler ? () => key : key)\r\n            : '';\r\n    const enableDefaultMsg = fallbackFormat || defaultMsgOrKey !== '';\r\n    const locale = isString(options.locale) ? options.locale : context.locale;\r\n    // escape params\r\n    escapeParameter && escapeParams(options);\r\n    // resolve message format\r\n    // eslint-disable-next-line prefer-const\r\n    let [formatScope, targetLocale, message] = !resolvedMessage\r\n        ? resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn)\r\n        : [\r\n            key,\r\n            locale,\r\n            messages[locale] || {}\r\n        ];\r\n    // NOTE:\r\n    //  Fix to work around `ssrTransfrom` bug in Vite.\r\n    //  https://github.com/vitejs/vite/issues/4306\r\n    //  To get around this, use temporary variables.\r\n    //  https://github.com/nuxt/framework/issues/1461#issuecomment-954606243\r\n    let format = formatScope;\r\n    // if you use default message, set it as message format!\r\n    let cacheBaseKey = key;\r\n    if (!resolvedMessage &&\r\n        !(isString(format) || isMessageFunction(format))) {\r\n        if (enableDefaultMsg) {\r\n            format = defaultMsgOrKey;\r\n            cacheBaseKey = format;\r\n        }\r\n    }\r\n    // checking message format and target locale\r\n    if (!resolvedMessage &&\r\n        (!(isString(format) || isMessageFunction(format)) ||\r\n            !isString(targetLocale))) {\r\n        return unresolving ? NOT_REOSLVED : key;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && isString(format) && context.messageCompiler == null) {\r\n        warn(`The message format compilation is not supported in this build. ` +\r\n            `Because message compiler isn't included. ` +\r\n            `You need to pre-compilation all message format. ` +\r\n            `So translate function return '${key}'.`);\r\n        return key;\r\n    }\r\n    // setup compile error detecting\r\n    let occurred = false;\r\n    const errorDetector = () => {\r\n        occurred = true;\r\n    };\r\n    // compile message format\r\n    const msg = !isMessageFunction(format)\r\n        ? compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, errorDetector)\r\n        : format;\r\n    // if occurred compile error, return the message format\r\n    if (occurred) {\r\n        return format;\r\n    }\r\n    // evaluate message with context\r\n    const ctxOptions = getMessageContextOptions(context, targetLocale, message, options);\r\n    const msgContext = createMessageContext(ctxOptions);\r\n    const messaged = evaluateMessage(context, msg, msgContext);\r\n    // if use post translation option, proceed it with handler\r\n    const ret = postTranslation\r\n        ? postTranslation(messaged, key)\r\n        : messaged;\r\n    // NOTE: experimental !!\r\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n        // prettier-ignore\r\n        const payloads = {\r\n            timestamp: Date.now(),\r\n            key: isString(key)\r\n                ? key\r\n                : isMessageFunction(format)\r\n                    ? format.key\r\n                    : '',\r\n            locale: targetLocale || (isMessageFunction(format)\r\n                ? format.locale\r\n                : ''),\r\n            format: isString(format)\r\n                ? format\r\n                : isMessageFunction(format)\r\n                    ? format.source\r\n                    : '',\r\n            message: ret\r\n        };\r\n        payloads.meta = assign({}, context.__meta, getAdditionalMeta() || {});\r\n        translateDevTools(payloads);\r\n    }\r\n    return ret;\r\n}\r\nfunction escapeParams(options) {\r\n    if (isArray(options.list)) {\r\n        options.list = options.list.map(item => isString(item) ? escapeHtml(item) : item);\r\n    }\r\n    else if (isObject(options.named)) {\r\n        Object.keys(options.named).forEach(key => {\r\n            if (isString(options.named[key])) {\r\n                options.named[key] = escapeHtml(options.named[key]);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn) {\r\n    const { messages, onWarn, messageResolver: resolveValue, localeFallbacker } = context;\r\n    const locales = localeFallbacker(context, fallbackLocale, locale); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    let message = {};\r\n    let targetLocale;\r\n    let format = null;\r\n    let from = locale;\r\n    let to = null;\r\n    const type = 'translate';\r\n    for (let i = 0; i < locales.length; i++) {\r\n        targetLocale = to = locales[i];\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            locale !== targetLocale &&\r\n            isTranslateFallbackWarn(fallbackWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_TRANSLATE, {\r\n                key,\r\n                target: targetLocale\r\n            }));\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\r\n            const emitter = context.__v_emitter;\r\n            if (emitter) {\r\n                emitter.emit(\"fallback\" /* FALBACK */, {\r\n                    type,\r\n                    key,\r\n                    from,\r\n                    to,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n        }\r\n        message =\r\n            messages[targetLocale] || {};\r\n        // for vue-devtools timeline event\r\n        let start = null;\r\n        let startTag;\r\n        let endTag;\r\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n            start = window.performance.now();\r\n            startTag = 'intlify-message-resolve-start';\r\n            endTag = 'intlify-message-resolve-end';\r\n            mark && mark(startTag);\r\n        }\r\n        if ((format = resolveValue(message, key)) === null) {\r\n            // if null, resolve with object key path\r\n            format = message[key]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n            const end = window.performance.now();\r\n            const emitter = context.__v_emitter;\r\n            if (emitter && start && format) {\r\n                emitter.emit(\"message-resolve\" /* MESSAGE_RESOLVE */, {\r\n                    type: \"message-resolve\" /* MESSAGE_RESOLVE */,\r\n                    key,\r\n                    message: format,\r\n                    time: end - start,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n            if (startTag && endTag && mark && measure) {\r\n                mark(endTag);\r\n                measure('intlify message resolve', startTag, endTag);\r\n            }\r\n        }\r\n        if (isString(format) || isFunction(format))\r\n            break;\r\n        const missingRet = handleMissing(context, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        key, targetLocale, missingWarn, type);\r\n        if (missingRet !== key) {\r\n            format = missingRet;\r\n        }\r\n        from = to;\r\n    }\r\n    return [format, targetLocale, message];\r\n}\r\nfunction compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, errorDetector) {\r\n    const { messageCompiler, warnHtmlMessage } = context;\r\n    if (isMessageFunction(format)) {\r\n        const msg = format;\r\n        msg.locale = msg.locale || targetLocale;\r\n        msg.key = msg.key || key;\r\n        return msg;\r\n    }\r\n    if (messageCompiler == null) {\r\n        const msg = (() => format);\r\n        msg.locale = targetLocale;\r\n        msg.key = key;\r\n        return msg;\r\n    }\r\n    // for vue-devtools timeline event\r\n    let start = null;\r\n    let startTag;\r\n    let endTag;\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        start = window.performance.now();\r\n        startTag = 'intlify-message-compilation-start';\r\n        endTag = 'intlify-message-compilation-end';\r\n        mark && mark(startTag);\r\n    }\r\n    const msg = messageCompiler(format, getCompileOptions(context, targetLocale, cacheBaseKey, format, warnHtmlMessage, errorDetector));\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        const end = window.performance.now();\r\n        const emitter = context.__v_emitter;\r\n        if (emitter && start) {\r\n            emitter.emit(\"message-compilation\" /* MESSAGE_COMPILATION */, {\r\n                type: \"message-compilation\" /* MESSAGE_COMPILATION */,\r\n                message: format,\r\n                time: end - start,\r\n                groupId: `${'translate'}:${key}`\r\n            });\r\n        }\r\n        if (startTag && endTag && mark && measure) {\r\n            mark(endTag);\r\n            measure('intlify message compilation', startTag, endTag);\r\n        }\r\n    }\r\n    msg.locale = targetLocale;\r\n    msg.key = key;\r\n    msg.source = format;\r\n    return msg;\r\n}\r\nfunction evaluateMessage(context, msg, msgCtx) {\r\n    // for vue-devtools timeline event\r\n    let start = null;\r\n    let startTag;\r\n    let endTag;\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        start = window.performance.now();\r\n        startTag = 'intlify-message-evaluation-start';\r\n        endTag = 'intlify-message-evaluation-end';\r\n        mark && mark(startTag);\r\n    }\r\n    const messaged = msg(msgCtx);\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\r\n        const end = window.performance.now();\r\n        const emitter = context.__v_emitter;\r\n        if (emitter && start) {\r\n            emitter.emit(\"message-evaluation\" /* MESSAGE_EVALUATION */, {\r\n                type: \"message-evaluation\" /* MESSAGE_EVALUATION */,\r\n                value: messaged,\r\n                time: end - start,\r\n                groupId: `${'translate'}:${msg.key}`\r\n            });\r\n        }\r\n        if (startTag && endTag && mark && measure) {\r\n            mark(endTag);\r\n            measure('intlify message evaluation', startTag, endTag);\r\n        }\r\n    }\r\n    return messaged;\r\n}\r\n/** @internal */\r\nfunction parseTranslateArgs(...args) {\r\n    const [arg1, arg2, arg3] = args;\r\n    const options = {};\r\n    if (!isString(arg1) && !isNumber(arg1) && !isMessageFunction(arg1)) {\r\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\r\n    }\r\n    // prettier-ignore\r\n    const key = isNumber(arg1)\r\n        ? String(arg1)\r\n        : isMessageFunction(arg1)\r\n            ? arg1\r\n            : arg1;\r\n    if (isNumber(arg2)) {\r\n        options.plural = arg2;\r\n    }\r\n    else if (isString(arg2)) {\r\n        options.default = arg2;\r\n    }\r\n    else if (isPlainObject(arg2) && !isEmptyObject(arg2)) {\r\n        options.named = arg2;\r\n    }\r\n    else if (isArray(arg2)) {\r\n        options.list = arg2;\r\n    }\r\n    if (isNumber(arg3)) {\r\n        options.plural = arg3;\r\n    }\r\n    else if (isString(arg3)) {\r\n        options.default = arg3;\r\n    }\r\n    else if (isPlainObject(arg3)) {\r\n        assign(options, arg3);\r\n    }\r\n    return [key, options];\r\n}\r\nfunction getCompileOptions(context, locale, key, source, warnHtmlMessage, errorDetector) {\r\n    return {\r\n        warnHtmlMessage,\r\n        onError: (err) => {\r\n            errorDetector && errorDetector(err);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                const message = `Message compilation error: ${err.message}`;\r\n                const codeFrame = err.location &&\r\n                    generateCodeFrame(source, err.location.start.offset, err.location.end.offset);\r\n                const emitter = context.__v_emitter;\r\n                if (emitter) {\r\n                    emitter.emit(\"compile-error\" /* COMPILE_ERROR */, {\r\n                        message: source,\r\n                        error: err.message,\r\n                        start: err.location && err.location.start.offset,\r\n                        end: err.location && err.location.end.offset,\r\n                        groupId: `${'translate'}:${key}`\r\n                    });\r\n                }\r\n                console.error(codeFrame ? `${message}\\n${codeFrame}` : message);\r\n            }\r\n            else {\r\n                throw err;\r\n            }\r\n        },\r\n        onCacheKey: (source) => generateFormatCacheKey(locale, key, source)\r\n    };\r\n}\r\nfunction getMessageContextOptions(context, locale, message, options) {\r\n    const { modifiers, pluralRules, messageResolver: resolveValue, fallbackLocale, fallbackWarn, missingWarn, fallbackContext } = context;\r\n    const resolveMessage = (key) => {\r\n        let val = resolveValue(message, key);\r\n        // fallback to root context\r\n        if (val == null && fallbackContext) {\r\n            const [, , message] = resolveMessageFormat(fallbackContext, key, locale, fallbackLocale, fallbackWarn, missingWarn);\r\n            val = resolveValue(message, key);\r\n        }\r\n        if (isString(val)) {\r\n            let occurred = false;\r\n            const errorDetector = () => {\r\n                occurred = true;\r\n            };\r\n            const msg = compileMessageFormat(context, key, locale, val, key, errorDetector);\r\n            return !occurred\r\n                ? msg\r\n                : NOOP_MESSAGE_FUNCTION;\r\n        }\r\n        else if (isMessageFunction(val)) {\r\n            return val;\r\n        }\r\n        else {\r\n            // TODO: should be implemented warning message\r\n            return NOOP_MESSAGE_FUNCTION;\r\n        }\r\n    };\r\n    const ctxOptions = {\r\n        locale,\r\n        modifiers,\r\n        pluralRules,\r\n        messages: resolveMessage\r\n    };\r\n    if (context.processor) {\r\n        ctxOptions.processor = context.processor;\r\n    }\r\n    if (options.list) {\r\n        ctxOptions.list = options.list;\r\n    }\r\n    if (options.named) {\r\n        ctxOptions.named = options.named;\r\n    }\r\n    if (isNumber(options.plural)) {\r\n        ctxOptions.pluralIndex = options.plural;\r\n    }\r\n    return ctxOptions;\r\n}\n\nconst intlDefined = typeof Intl !== 'undefined';\r\nconst Availabilities = {\r\n    dateTimeFormat: intlDefined && typeof Intl.DateTimeFormat !== 'undefined',\r\n    numberFormat: intlDefined && typeof Intl.NumberFormat !== 'undefined'\r\n};\n\n// implementation of `datetime` function\r\nfunction datetime(context, ...args) {\r\n    const { datetimeFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\r\n    const { __datetimeFormatters } = context;\r\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.dateTimeFormat) {\r\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_DATE));\r\n        return MISSING_RESOLVE_VALUE;\r\n    }\r\n    const [key, value, options, overrides] = parseDateTimeArgs(...args);\r\n    const missingWarn = isBoolean(options.missingWarn)\r\n        ? options.missingWarn\r\n        : context.missingWarn;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : context.fallbackWarn;\r\n    const part = !!options.part;\r\n    const locale = isString(options.locale) ? options.locale : context.locale;\r\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    fallbackLocale, locale);\r\n    if (!isString(key) || key === '') {\r\n        return new Intl.DateTimeFormat(locale, overrides).format(value);\r\n    }\r\n    // resolve format\r\n    let datetimeFormat = {};\r\n    let targetLocale;\r\n    let format = null;\r\n    let from = locale;\r\n    let to = null;\r\n    const type = 'datetime format';\r\n    for (let i = 0; i < locales.length; i++) {\r\n        targetLocale = to = locales[i];\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            locale !== targetLocale &&\r\n            isTranslateFallbackWarn(fallbackWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_DATE_FORMAT, {\r\n                key,\r\n                target: targetLocale\r\n            }));\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\r\n            const emitter = context.__v_emitter;\r\n            if (emitter) {\r\n                emitter.emit(\"fallback\" /* FALBACK */, {\r\n                    type,\r\n                    key,\r\n                    from,\r\n                    to,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n        }\r\n        datetimeFormat =\r\n            datetimeFormats[targetLocale] || {};\r\n        format = datetimeFormat[key];\r\n        if (isPlainObject(format))\r\n            break;\r\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        from = to;\r\n    }\r\n    // checking format and target locale\r\n    if (!isPlainObject(format) || !isString(targetLocale)) {\r\n        return unresolving ? NOT_REOSLVED : key;\r\n    }\r\n    let id = `${targetLocale}__${key}`;\r\n    if (!isEmptyObject(overrides)) {\r\n        id = `${id}__${JSON.stringify(overrides)}`;\r\n    }\r\n    let formatter = __datetimeFormatters.get(id);\r\n    if (!formatter) {\r\n        formatter = new Intl.DateTimeFormat(targetLocale, assign({}, format, overrides));\r\n        __datetimeFormatters.set(id, formatter);\r\n    }\r\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\r\n}\r\n/** @internal */\r\nconst DATETIME_FORMAT_OPTIONS_KEYS = [\r\n    'localeMatcher',\r\n    'weekday',\r\n    'era',\r\n    'year',\r\n    'month',\r\n    'day',\r\n    'hour',\r\n    'minute',\r\n    'second',\r\n    'timeZoneName',\r\n    'formatMatcher',\r\n    'hour12',\r\n    'timeZone',\r\n    'dateStyle',\r\n    'timeStyle',\r\n    'calendar',\r\n    'dayPeriod',\r\n    'numberingSystem',\r\n    'hourCycle',\r\n    'fractionalSecondDigits'\r\n];\r\n/** @internal */\r\nfunction parseDateTimeArgs(...args) {\r\n    const [arg1, arg2, arg3, arg4] = args;\r\n    const options = {};\r\n    let overrides = {};\r\n    let value;\r\n    if (isString(arg1)) {\r\n        // Only allow ISO strings - other date formats are often supported,\r\n        // but may cause different results in different browsers.\r\n        const matches = arg1.match(/(\\d{4}-\\d{2}-\\d{2})(T|\\s)?(.*)/);\r\n        if (!matches) {\r\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\r\n        }\r\n        // Some browsers can not parse the iso datetime separated by space,\r\n        // this is a compromise solution by replace the 'T'/' ' with 'T'\r\n        const dateTime = matches[3]\r\n            ? matches[3].trim().startsWith('T')\r\n                ? `${matches[1].trim()}${matches[3].trim()}`\r\n                : `${matches[1].trim()}T${matches[3].trim()}`\r\n            : matches[1].trim();\r\n        value = new Date(dateTime);\r\n        try {\r\n            // This will fail if the date is not valid\r\n            value.toISOString();\r\n        }\r\n        catch (e) {\r\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\r\n        }\r\n    }\r\n    else if (isDate(arg1)) {\r\n        if (isNaN(arg1.getTime())) {\r\n            throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);\r\n        }\r\n        value = arg1;\r\n    }\r\n    else if (isNumber(arg1)) {\r\n        value = arg1;\r\n    }\r\n    else {\r\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\r\n    }\r\n    if (isString(arg2)) {\r\n        options.key = arg2;\r\n    }\r\n    else if (isPlainObject(arg2)) {\r\n        Object.keys(arg2).forEach(key => {\r\n            if (DATETIME_FORMAT_OPTIONS_KEYS.includes(key)) {\r\n                overrides[key] = arg2[key];\r\n            }\r\n            else {\r\n                options[key] = arg2[key];\r\n            }\r\n        });\r\n    }\r\n    if (isString(arg3)) {\r\n        options.locale = arg3;\r\n    }\r\n    else if (isPlainObject(arg3)) {\r\n        overrides = arg3;\r\n    }\r\n    if (isPlainObject(arg4)) {\r\n        overrides = arg4;\r\n    }\r\n    return [options.key || '', value, options, overrides];\r\n}\r\n/** @internal */\r\nfunction clearDateTimeFormat(ctx, locale, format) {\r\n    const context = ctx;\r\n    for (const key in format) {\r\n        const id = `${locale}__${key}`;\r\n        if (!context.__datetimeFormatters.has(id)) {\r\n            continue;\r\n        }\r\n        context.__datetimeFormatters.delete(id);\r\n    }\r\n}\n\n// implementation of `number` function\r\nfunction number(context, ...args) {\r\n    const { numberFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\r\n    const { __numberFormatters } = context;\r\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.numberFormat) {\r\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_NUMBER));\r\n        return MISSING_RESOLVE_VALUE;\r\n    }\r\n    const [key, value, options, overrides] = parseNumberArgs(...args);\r\n    const missingWarn = isBoolean(options.missingWarn)\r\n        ? options.missingWarn\r\n        : context.missingWarn;\r\n    const fallbackWarn = isBoolean(options.fallbackWarn)\r\n        ? options.fallbackWarn\r\n        : context.fallbackWarn;\r\n    const part = !!options.part;\r\n    const locale = isString(options.locale) ? options.locale : context.locale;\r\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    fallbackLocale, locale);\r\n    if (!isString(key) || key === '') {\r\n        return new Intl.NumberFormat(locale, overrides).format(value);\r\n    }\r\n    // resolve format\r\n    let numberFormat = {};\r\n    let targetLocale;\r\n    let format = null;\r\n    let from = locale;\r\n    let to = null;\r\n    const type = 'number format';\r\n    for (let i = 0; i < locales.length; i++) {\r\n        targetLocale = to = locales[i];\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            locale !== targetLocale &&\r\n            isTranslateFallbackWarn(fallbackWarn, key)) {\r\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT, {\r\n                key,\r\n                target: targetLocale\r\n            }));\r\n        }\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\r\n            const emitter = context.__v_emitter;\r\n            if (emitter) {\r\n                emitter.emit(\"fallback\" /* FALBACK */, {\r\n                    type,\r\n                    key,\r\n                    from,\r\n                    to,\r\n                    groupId: `${type}:${key}`\r\n                });\r\n            }\r\n        }\r\n        numberFormat =\r\n            numberFormats[targetLocale] || {};\r\n        format = numberFormat[key];\r\n        if (isPlainObject(format))\r\n            break;\r\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        from = to;\r\n    }\r\n    // checking format and target locale\r\n    if (!isPlainObject(format) || !isString(targetLocale)) {\r\n        return unresolving ? NOT_REOSLVED : key;\r\n    }\r\n    let id = `${targetLocale}__${key}`;\r\n    if (!isEmptyObject(overrides)) {\r\n        id = `${id}__${JSON.stringify(overrides)}`;\r\n    }\r\n    let formatter = __numberFormatters.get(id);\r\n    if (!formatter) {\r\n        formatter = new Intl.NumberFormat(targetLocale, assign({}, format, overrides));\r\n        __numberFormatters.set(id, formatter);\r\n    }\r\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\r\n}\r\n/** @internal */\r\nconst NUMBER_FORMAT_OPTIONS_KEYS = [\r\n    'localeMatcher',\r\n    'style',\r\n    'currency',\r\n    'currencyDisplay',\r\n    'currencySign',\r\n    'useGrouping',\r\n    'minimumIntegerDigits',\r\n    'minimumFractionDigits',\r\n    'maximumFractionDigits',\r\n    'minimumSignificantDigits',\r\n    'maximumSignificantDigits',\r\n    'compactDisplay',\r\n    'notation',\r\n    'signDisplay',\r\n    'unit',\r\n    'unitDisplay',\r\n    'roundingMode',\r\n    'roundingPriority',\r\n    'roundingIncrement',\r\n    'trailingZeroDisplay'\r\n];\r\n/** @internal */\r\nfunction parseNumberArgs(...args) {\r\n    const [arg1, arg2, arg3, arg4] = args;\r\n    const options = {};\r\n    let overrides = {};\r\n    if (!isNumber(arg1)) {\r\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\r\n    }\r\n    const value = arg1;\r\n    if (isString(arg2)) {\r\n        options.key = arg2;\r\n    }\r\n    else if (isPlainObject(arg2)) {\r\n        Object.keys(arg2).forEach(key => {\r\n            if (NUMBER_FORMAT_OPTIONS_KEYS.includes(key)) {\r\n                overrides[key] = arg2[key];\r\n            }\r\n            else {\r\n                options[key] = arg2[key];\r\n            }\r\n        });\r\n    }\r\n    if (isString(arg3)) {\r\n        options.locale = arg3;\r\n    }\r\n    else if (isPlainObject(arg3)) {\r\n        overrides = arg3;\r\n    }\r\n    if (isPlainObject(arg4)) {\r\n        overrides = arg4;\r\n    }\r\n    return [options.key || '', value, options, overrides];\r\n}\r\n/** @internal */\r\nfunction clearNumberFormat(ctx, locale, format) {\r\n    const context = ctx;\r\n    for (const key in format) {\r\n        const id = `${locale}__${key}`;\r\n        if (!context.__numberFormatters.has(id)) {\r\n            continue;\r\n        }\r\n        context.__numberFormatters.delete(id);\r\n    }\r\n}\n\n// TODO: we could not exports for Node native ES Moudles yet...\r\n{\r\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\r\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\r\n    }\r\n}\n\nexport { CoreErrorCodes, CoreWarnCodes, DATETIME_FORMAT_OPTIONS_KEYS, DEFAULT_LOCALE, DEFAULT_MESSAGE_DATA_TYPE, MISSING_RESOLVE_VALUE, NOT_REOSLVED, NUMBER_FORMAT_OPTIONS_KEYS, VERSION, clearCompileCache, clearDateTimeFormat, clearNumberFormat, compileToFunction, createCoreContext, createCoreError, createMessageContext, datetime, fallbackWithLocaleChain, fallbackWithSimple, getAdditionalMeta, getDevToolsHook, getFallbackContext, getWarnMessage, handleMissing, initI18nDevTools, isMessageFunction, isTranslateFallbackWarn, isTranslateMissingWarn, number, parse, parseDateTimeArgs, parseNumberArgs, parseTranslateArgs, registerLocaleFallbacker, registerMessageCompiler, registerMessageResolver, resolveValue, resolveWithKeyValue, setAdditionalMeta, setDevToolsHook, setFallbackContext, translate, translateDevTools, updateFallbackLocale };\n","/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, format, makeSymbol, isPlainObject, isArray, isString, hasOwn, isObject, isBoolean, isRegExp, isFunction, inBrowser, assign, isNumber, warn, createEmitter, isEmptyObject } from '@intlify/shared';\nimport { CoreWarnCodes, CompileErrorCodes, createCompileError, DEFAULT_LOCALE, updateFallbackLocale, setFallbackContext, createCoreContext, clearDateTimeFormat, clearNumberFormat, setAdditionalMeta, getFallbackContext, NOT_REOSLVED, isTranslateFallbackWarn, isTranslateMissingWarn, parseTranslateArgs, translate, MISSING_RESOLVE_VALUE, parseDateTimeArgs, datetime, parseNumberArgs, number, fallbackWithLocaleChain, NUMBER_FORMAT_OPTIONS_KEYS, DATETIME_FORMAT_OPTIONS_KEYS, registerMessageCompiler, compileToFunction, registerMessageResolver, resolveValue, registerLocaleFallbacker, setDevToolsHook } from '@intlify/core-base';\nimport { createVNode, Text, ref, computed, watch, getCurrentInstance, Fragment, h, effectScope, inject, onMounted, onUnmounted, shallowRef, onBeforeMount, isRef } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\nimport { VueDevToolsLabels, VueDevToolsPlaceholders, VueDevToolsTimelineColors } from '@intlify/vue-devtools';\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.2.2';\r\n/**\r\n * This is only called in esm-bundler builds.\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    let needWarn = false;\r\n    if (typeof __VUE_I18N_FULL_INSTALL__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_I18N_FULL_INSTALL__ = true;\r\n    }\r\n    if (typeof __VUE_I18N_LEGACY_API__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_I18N_LEGACY_API__ = true;\r\n    }\r\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\r\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn) {\r\n        console.warn(`You are running the esm-bundler build of vue-i18n. It is recommended to ` +\r\n            `configure your bundler to explicitly replace feature flag globals ` +\r\n            `with boolean literals to get proper tree-shaking in the final bundle.`);\r\n    }\r\n}\n\nlet code$1 = CoreWarnCodes.__EXTEND_POINT__;\r\nconst inc$1 = () => ++code$1;\r\nconst I18nWarnCodes = {\r\n    FALLBACK_TO_ROOT: code$1,\r\n    NOT_SUPPORTED_PRESERVE: inc$1(),\r\n    NOT_SUPPORTED_FORMATTER: inc$1(),\r\n    NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\r\n    NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\r\n    COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\r\n    NOT_FOUND_PARENT_SCOPE: inc$1() // 13\r\n};\r\nconst warnMessages = {\r\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\r\n    [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return format(warnMessages[code], ...args);\r\n}\n\nlet code = CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst I18nErrorCodes = {\r\n    // composer module errors\r\n    UNEXPECTED_RETURN_TYPE: code,\r\n    // legacy module errors\r\n    INVALID_ARGUMENT: inc(),\r\n    // i18n module errors\r\n    MUST_BE_CALL_SETUP_TOP: inc(),\r\n    NOT_INSLALLED: inc(),\r\n    NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\r\n    // directive module errors\r\n    REQUIRED_VALUE: inc(),\r\n    INVALID_VALUE: inc(),\r\n    // vue-devtools errors\r\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\r\n    NOT_INSLALLED_WITH_PROVIDE: inc(),\r\n    // unexpected error\r\n    UNEXPECTED_ERROR: inc(),\r\n    // not compatible legacy vue-i18n constructor\r\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\r\n    // bridge support vue 2.x only\r\n    BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\r\n    // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\r\n    MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\r\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\r\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\r\n    // for enhancement\r\n    __EXTEND_POINT__: inc() // 29\r\n};\r\nfunction createI18nError(code, ...args) {\r\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages, args } : undefined);\r\n}\r\nconst errorMessages = {\r\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\r\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\r\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\r\n    [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\r\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\r\n    [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\r\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\r\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\r\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\r\n    [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\r\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\r\n    [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\r\n    [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define âi18nâ option or custom block in Composition API with using local scope in Legacy API mode',\r\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\r\n};\n\nconst TransrateVNodeSymbol = \r\n/* #__PURE__*/ makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = /* #__PURE__*/ makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = /* #__PURE__*/ makeSymbol('__numberParts');\r\nconst EnableEmitter = /* #__PURE__*/ makeSymbol('__enableEmitter');\r\nconst DisableEmitter = /* #__PURE__*/ makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = makeSymbol('__setPluralRules');\r\nmakeSymbol('__intlifyMeta');\r\nconst InejctWithOption = /* #__PURE__*/ makeSymbol('__injectWithOption');\r\nconst __VUE_I18N_BRIDGE__ =  '__VUE_I18N_BRIDGE__';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\r\nfunction handleFlatJson(obj) {\r\n    // check obj\r\n    if (!isObject(obj)) {\r\n        return obj;\r\n    }\r\n    for (const key in obj) {\r\n        // check key\r\n        if (!hasOwn(obj, key)) {\r\n            continue;\r\n        }\r\n        // handle for normal json\r\n        if (!key.includes('.')) {\r\n            // recursive process value if value is also a object\r\n            if (isObject(obj[key])) {\r\n                handleFlatJson(obj[key]);\r\n            }\r\n        }\r\n        // handle for flat json, transform to normal json\r\n        else {\r\n            // go to the last object\r\n            const subKeys = key.split('.');\r\n            const lastIndex = subKeys.length - 1;\r\n            let currentObj = obj;\r\n            for (let i = 0; i < lastIndex; i++) {\r\n                if (!(subKeys[i] in currentObj)) {\r\n                    currentObj[subKeys[i]] = {};\r\n                }\r\n                currentObj = currentObj[subKeys[i]];\r\n            }\r\n            // update last object value, delete old property\r\n            currentObj[subKeys[lastIndex]] = obj[key];\r\n            delete obj[key];\r\n            // recursive process value if value is also a object\r\n            if (isObject(currentObj[subKeys[lastIndex]])) {\r\n                handleFlatJson(currentObj[subKeys[lastIndex]]);\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n, messageResolver, flatJson } = options;\r\n    // prettier-ignore\r\n    const ret = isPlainObject(messages)\r\n        ? messages\r\n        : isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (isArray(__i18n)) {\r\n        __i18n.forEach(custom => {\r\n            if ('locale' in custom && 'resource' in custom) {\r\n                const { locale, resource } = custom;\r\n                if (locale) {\r\n                    ret[locale] = ret[locale] || {};\r\n                    deepCopy(resource, ret[locale]);\r\n                }\r\n                else {\r\n                    deepCopy(resource, ret);\r\n                }\r\n            }\r\n            else {\r\n                isString(custom) && deepCopy(JSON.parse(custom), ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (messageResolver == null && flatJson) {\r\n        for (const key in ret) {\r\n            if (hasOwn(ret, key)) {\r\n                handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !isObject(val) || isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n    for (const key in src) {\r\n        if (hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getComponentOptions(instance) {\r\n    return instance.type ;\r\n}\r\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    let messages = isObject(options.messages) ? options.messages : {};\r\n    if ('__i18nGlobal' in componentOptions) {\r\n        messages = getLocaleMessages(global.locale.value, {\r\n            messages,\r\n            __i18n: componentOptions.__i18nGlobal\r\n        });\r\n    }\r\n    // merge locale messages\r\n    const locales = Object.keys(messages);\r\n    if (locales.length) {\r\n        locales.forEach(locale => {\r\n            global.mergeLocaleMessage(locale, messages[locale]);\r\n        });\r\n    }\r\n    {\r\n        // merge datetime formats\r\n        if (isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction createTextNode(key) {\r\n    return createVNode(Text, null, key, 0)\r\n        ;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// extend VNode interface\r\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo =  () => {\r\n    const instance = getCurrentInstance();\r\n    let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\r\n        ? { [DEVTOOLS_META]: meta } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createComposer(options = {}, VueI18nLegacy) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : isString(options.locale)\r\n            ? options.locale\r\n            : DEFAULT_LOCALE);\r\n    const _fallbackLocale = ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : isString(options.fallbackLocale) ||\r\n            isArray(options.fallbackLocale) ||\r\n            isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = ref(isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // prettier-ignore\r\n    const _numberFormats = ref(isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    let _warnHtmlMessage = __root\r\n        ? __root.warnHtmlMessage\r\n        : isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    const getCoreContext = () => {\r\n        _isGlobal && setFallbackContext(null);\r\n        const ctxOptions = {\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            messageResolver: options.messageResolver,\r\n            __meta: { framework: 'vue' }\r\n        };\r\n        {\r\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\r\n            ctxOptions.numberFormats = _numberFormats.value;\r\n            ctxOptions.__datetimeFormatters = isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined;\r\n            ctxOptions.__numberFormatters = isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            ctxOptions.__v_emitter = isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined;\r\n        }\r\n        const ctx = createCoreContext(ctxOptions);\r\n        _isGlobal && setFallbackContext(ctx);\r\n        return ctx;\r\n    };\r\n    _context = getCoreContext();\r\n    updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n                _locale.value,\r\n                _fallbackLocale.value,\r\n                _messages.value,\r\n                _datetimeFormats.value,\r\n                _numberFormats.value\r\n            ]\r\n            ;\r\n    }\r\n    // locale\r\n    const locale = computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = /* #__PURE__*/ computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = /* #__PURE__*/ computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !arg.resolvedMessage;\r\n    }\r\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n            try {\r\n                setAdditionalMeta(getMetaInfo());\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = __root\r\n                        ? getFallbackContext()\r\n                        : undefined;\r\n                }\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                setAdditionalMeta(null);\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = undefined;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            ret = fn(_context);\r\n        }\r\n        if (isNumber(ret) && ret === NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                __root &&\r\n                isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        isTranslateMissingWarn(_missingWarn, key))) {\r\n                    warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\r\n        }\r\n    };\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(translate, null, [context, ...args]), () => parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !isObject(arg3)) {\r\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n        }\r\n        return t(...[arg1, arg2, assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => isString(val) || isNumber(val) || isBoolean(val)\r\n            ? createTextNode(String(val))\r\n            : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = Reflect.apply(translate, null, [_context, ...args]);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => isString(val) || isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => isString(val) || isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return _context.messageResolver(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root && inBrowser) {\r\n        watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define basic composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [SetPluralRulesSymbol]: setPluralRules\r\n    };\r\n    {\r\n        composer.datetimeFormats = datetimeFormats;\r\n        composer.numberFormats = numberFormats;\r\n        composer.rt = rt;\r\n        composer.te = te;\r\n        composer.tm = tm;\r\n        composer.d = d;\r\n        composer.n = n;\r\n        composer.getDateTimeFormat = getDateTimeFormat;\r\n        composer.setDateTimeFormat = setDateTimeFormat;\r\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\r\n        composer.getNumberFormat = getNumberFormat;\r\n        composer.setNumberFormat = setNumberFormat;\r\n        composer.mergeNumberFormat = mergeNumberFormat;\r\n        composer[InejctWithOption] = options.__injectWithOption;\r\n        composer[TransrateVNodeSymbol] = transrateVNode;\r\n        composer[DatetimePartsSymbol] = datetimeParts;\r\n        composer[NumberPartsSymbol] = numberParts;\r\n    }\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = isString(options.locale) ? options.locale : DEFAULT_LOCALE;\r\n    const fallbackLocale = isString(options.fallbackLocale) ||\r\n        isArray(options.fallbackLocale) ||\r\n        isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = isBoolean(options.silentTranslationWarn) ||\r\n        isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = isBoolean(options.silentFallbackWarn) ||\r\n        isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = isBoolean(options.sync) ? options.sync : true;\r\n    if ((process.env.NODE_ENV !== 'production') && options.formatter) {\r\n        warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && options.preserveDirectiveContent) {\r\n        warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n    }\r\n    let messages = options.messages;\r\n    if (isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageResolver: options.messageResolver,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createVueI18n(options = {}, VueI18nLegacy) {\r\n    {\r\n        const composer = createComposer(convertComposerOptions(options));\r\n        // defines VueI18n\r\n        const vueI18n = {\r\n            // id\r\n            id: composer.id,\r\n            // locale\r\n            get locale() {\r\n                return composer.locale.value;\r\n            },\r\n            set locale(val) {\r\n                composer.locale.value = val;\r\n            },\r\n            // fallbackLocale\r\n            get fallbackLocale() {\r\n                return composer.fallbackLocale.value;\r\n            },\r\n            set fallbackLocale(val) {\r\n                composer.fallbackLocale.value = val;\r\n            },\r\n            // messages\r\n            get messages() {\r\n                return composer.messages.value;\r\n            },\r\n            // datetimeFormats\r\n            get datetimeFormats() {\r\n                return composer.datetimeFormats.value;\r\n            },\r\n            // numberFormats\r\n            get numberFormats() {\r\n                return composer.numberFormats.value;\r\n            },\r\n            // availableLocales\r\n            get availableLocales() {\r\n                return composer.availableLocales;\r\n            },\r\n            // formatter\r\n            get formatter() {\r\n                (process.env.NODE_ENV !== 'production') && warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n                // dummy\r\n                return {\r\n                    interpolate() {\r\n                        return [];\r\n                    }\r\n                };\r\n            },\r\n            set formatter(val) {\r\n                (process.env.NODE_ENV !== 'production') && warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n            },\r\n            // missing\r\n            get missing() {\r\n                return composer.getMissingHandler();\r\n            },\r\n            set missing(handler) {\r\n                composer.setMissingHandler(handler);\r\n            },\r\n            // silentTranslationWarn\r\n            get silentTranslationWarn() {\r\n                return isBoolean(composer.missingWarn)\r\n                    ? !composer.missingWarn\r\n                    : composer.missingWarn;\r\n            },\r\n            set silentTranslationWarn(val) {\r\n                composer.missingWarn = isBoolean(val) ? !val : val;\r\n            },\r\n            // silentFallbackWarn\r\n            get silentFallbackWarn() {\r\n                return isBoolean(composer.fallbackWarn)\r\n                    ? !composer.fallbackWarn\r\n                    : composer.fallbackWarn;\r\n            },\r\n            set silentFallbackWarn(val) {\r\n                composer.fallbackWarn = isBoolean(val) ? !val : val;\r\n            },\r\n            // modifiers\r\n            get modifiers() {\r\n                return composer.modifiers;\r\n            },\r\n            // formatFallbackMessages\r\n            get formatFallbackMessages() {\r\n                return composer.fallbackFormat;\r\n            },\r\n            set formatFallbackMessages(val) {\r\n                composer.fallbackFormat = val;\r\n            },\r\n            // postTranslation\r\n            get postTranslation() {\r\n                return composer.getPostTranslationHandler();\r\n            },\r\n            set postTranslation(handler) {\r\n                composer.setPostTranslationHandler(handler);\r\n            },\r\n            // sync\r\n            get sync() {\r\n                return composer.inheritLocale;\r\n            },\r\n            set sync(val) {\r\n                composer.inheritLocale = val;\r\n            },\r\n            // warnInHtmlMessage\r\n            get warnHtmlInMessage() {\r\n                return composer.warnHtmlMessage ? 'warn' : 'off';\r\n            },\r\n            set warnHtmlInMessage(val) {\r\n                composer.warnHtmlMessage = val !== 'off';\r\n            },\r\n            // escapeParameterHtml\r\n            get escapeParameterHtml() {\r\n                return composer.escapeParameter;\r\n            },\r\n            set escapeParameterHtml(val) {\r\n                composer.escapeParameter = val;\r\n            },\r\n            // preserveDirectiveContent\r\n            get preserveDirectiveContent() {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n                return true;\r\n            },\r\n            set preserveDirectiveContent(val) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n            },\r\n            // pluralizationRules\r\n            get pluralizationRules() {\r\n                return composer.pluralRules || {};\r\n            },\r\n            // for internal\r\n            __composer: composer,\r\n            // t\r\n            t(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = {};\r\n                let list = null;\r\n                let named = null;\r\n                if (!isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            rt(...args) {\r\n                return Reflect.apply(composer.rt, composer, [...args]);\r\n            },\r\n            // tc\r\n            tc(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = { plural: 1 };\r\n                let list = null;\r\n                let named = null;\r\n                if (!isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (isNumber(arg2)) {\r\n                    options.plural = arg2;\r\n                }\r\n                else if (isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (isString(arg3)) {\r\n                    options.locale = arg3;\r\n                }\r\n                else if (isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            // te\r\n            te(key, locale) {\r\n                return composer.te(key, locale);\r\n            },\r\n            // tm\r\n            tm(key) {\r\n                return composer.tm(key);\r\n            },\r\n            // getLocaleMessage\r\n            getLocaleMessage(locale) {\r\n                return composer.getLocaleMessage(locale);\r\n            },\r\n            // setLocaleMessage\r\n            setLocaleMessage(locale, message) {\r\n                composer.setLocaleMessage(locale, message);\r\n            },\r\n            // mergeLocaleMessage\r\n            mergeLocaleMessage(locale, message) {\r\n                composer.mergeLocaleMessage(locale, message);\r\n            },\r\n            // d\r\n            d(...args) {\r\n                return Reflect.apply(composer.d, composer, [...args]);\r\n            },\r\n            // getDateTimeFormat\r\n            getDateTimeFormat(locale) {\r\n                return composer.getDateTimeFormat(locale);\r\n            },\r\n            // setDateTimeFormat\r\n            setDateTimeFormat(locale, format) {\r\n                composer.setDateTimeFormat(locale, format);\r\n            },\r\n            // mergeDateTimeFormat\r\n            mergeDateTimeFormat(locale, format) {\r\n                composer.mergeDateTimeFormat(locale, format);\r\n            },\r\n            // n\r\n            n(...args) {\r\n                return Reflect.apply(composer.n, composer, [...args]);\r\n            },\r\n            // getNumberFormat\r\n            getNumberFormat(locale) {\r\n                return composer.getNumberFormat(locale);\r\n            },\r\n            // setNumberFormat\r\n            setNumberFormat(locale, format) {\r\n                composer.setNumberFormat(locale, format);\r\n            },\r\n            // mergeNumberFormat\r\n            mergeNumberFormat(locale, format) {\r\n                composer.mergeNumberFormat(locale, format);\r\n            },\r\n            // getChoiceIndex\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            getChoiceIndex(choice, choicesLength) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\r\n                return -1;\r\n            },\r\n            // for internal\r\n            __onComponentInstanceCreated(target) {\r\n                const { componentInstanceCreatedListener } = options;\r\n                if (componentInstanceCreatedListener) {\r\n                    componentInstanceCreatedListener(target, vueI18n);\r\n                }\r\n            }\r\n        };\r\n        // for vue-devtools timeline event\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            vueI18n.__enableEmitter = (emitter) => {\r\n                const __composer = composer;\r\n                __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n            };\r\n            vueI18n.__disableEmitter = () => {\r\n                const __composer = composer;\r\n                __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n            };\r\n        }\r\n        return vueI18n;\r\n    }\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        validator: (val /* ComponetI18nScope */) => val === 'parent' || val === 'global',\r\n        default: 'parent' /* ComponetI18nScope */\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\nfunction getInterpolateArg(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n{ slots }, // SetupContext,\r\nkeys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot with list\r\n        const ret = slots.default ? slots.default() : [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return ret.reduce((slot, current) => {\r\n            return (slot = [\r\n                ...slot,\r\n                ...(isArray(current.children) ? current.children : [current])\r\n            ]);\r\n        }, []);\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getFragmentableTag(tag) {\r\n    return Fragment ;\r\n}\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: 'å©ç¨è¦ç´',\r\n *     term: 'ç§ã¯ xxx ã®{0}ã«åæãã¾ãã'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        return () => {\r\n            const keys = Object.keys(slots).filter(key => key !== '_');\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = assign({}, attrs);\r\n            const tag = isString(props.tag) || isObject(props.tag)\r\n                ? props.tag\r\n                : getFragmentableTag();\r\n            return h(tag, assignedAttrs, children);\r\n        };\r\n    }\r\n};\n\nfunction isVNode(target) {\r\n    return isArray(target) && !isString(target[0]);\r\n}\r\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                const node = slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n                if (isVNode(node)) {\r\n                    node[0].key = `${part.type}-${index}`;\r\n                }\r\n                return node;\r\n            });\r\n        }\r\n        else if (isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = assign({}, attrs);\r\n        const tag = isString(props.tag) || isObject(props.tag)\r\n            ? props.tag\r\n            : getFragmentableTag();\r\n        return h(tag, assignedAttrs, children);\r\n    };\r\n}\n\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat =  /*defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$2(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const _process = (binding) => {\r\n        const { instance, modifiers, value } = binding;\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const composer = getComposer$2(i18n, instance.$);\r\n        if ((process.env.NODE_ENV !== 'production') && modifiers.preserve) {\r\n            warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        return [\r\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\r\n            composer\r\n        ];\r\n    };\r\n    const register = (el, binding) => {\r\n        const [textContent, composer] = _process(binding);\r\n        if (inBrowser && i18n.global === composer) {\r\n            // global scope only\r\n            el.__i18nWatcher = watch(composer.locale, () => {\r\n                binding.instance && binding.instance.$forceUpdate();\r\n            });\r\n        }\r\n        el.__composer = composer;\r\n        el.textContent = textContent;\r\n    };\r\n    const unregister = (el) => {\r\n        if (inBrowser && el.__i18nWatcher) {\r\n            el.__i18nWatcher();\r\n            el.__i18nWatcher = undefined;\r\n            delete el.__i18nWatcher;\r\n        }\r\n        if (el.__composer) {\r\n            el.__composer = undefined;\r\n            delete el.__composer;\r\n        }\r\n    };\r\n    const update = (el, { value }) => {\r\n        if (el.__composer) {\r\n            const composer = el.__composer;\r\n            const parsedValue = parseValue(value);\r\n            el.textContent = Reflect.apply(composer.t, composer, [\r\n                ...makeParams(parsedValue)\r\n            ]);\r\n        }\r\n    };\r\n    const getSSRProps = (binding) => {\r\n        const [textContent] = _process(binding);\r\n        return { textContent };\r\n    };\r\n    return {\r\n        created: register,\r\n        unmounted: unregister,\r\n        beforeUpdate: update,\r\n        getSSRProps\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if ((process.env.NODE_ENV !== 'production') && globalInstall && useI18nComponentName) {\r\n        warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    {\r\n        app.directive('t', vTDirective(i18n));\r\n    }\r\n}\n\nconst VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';\r\nlet devtoolsApi;\r\nasync function enableDevTools(app, i18n) {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            setupDevtoolsPlugin({\r\n                id: \"vue-devtools-plugin-vue-i18n\" /* PLUGIN */,\r\n                label: VueDevToolsLabels[\"vue-devtools-plugin-vue-i18n\" /* PLUGIN */],\r\n                packageName: 'vue-i18n',\r\n                homepage: 'https://vue-i18n.intlify.dev',\r\n                logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',\r\n                componentStateTypes: [VUE_I18N_COMPONENT_TYPES],\r\n                app: app // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            }, api => {\r\n                devtoolsApi = api;\r\n                api.on.visitComponentTree(({ componentInstance, treeNode }) => {\r\n                    updateComponentTreeTags(componentInstance, treeNode, i18n);\r\n                });\r\n                api.on.inspectComponent(({ componentInstance, instanceData }) => {\r\n                    if (componentInstance.vnode.el &&\r\n                        componentInstance.vnode.el.__VUE_I18N__ &&\r\n                        instanceData) {\r\n                        if (i18n.mode === 'legacy') {\r\n                            // ignore global scope on legacy mode\r\n                            if (componentInstance.vnode.el.__VUE_I18N__ !==\r\n                                i18n.global.__composer) {\r\n                                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\r\n                            }\r\n                        }\r\n                        else {\r\n                            inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\r\n                        }\r\n                    }\r\n                });\r\n                api.addInspector({\r\n                    id: \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */,\r\n                    label: VueDevToolsLabels[\"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */],\r\n                    icon: 'language',\r\n                    treeFilterPlaceholder: VueDevToolsPlaceholders[\"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */]\r\n                });\r\n                api.on.getInspectorTree(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        registerScope(payload, i18n);\r\n                    }\r\n                });\r\n                const roots = new Map();\r\n                api.on.getInspectorState(async (payload) => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        api.unhighlightElement();\r\n                        inspectScope(payload, i18n);\r\n                        if (payload.nodeId === 'global') {\r\n                            if (!roots.has(payload.app)) {\r\n                                const [root] = await api.getComponentInstances(payload.app);\r\n                                roots.set(payload.app, root);\r\n                            }\r\n                            api.highlightElement(roots.get(payload.app));\r\n                        }\r\n                        else {\r\n                            const instance = getComponentInstance(payload.nodeId, i18n);\r\n                            instance && api.highlightElement(instance);\r\n                        }\r\n                    }\r\n                });\r\n                api.on.editInspectorState(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        editScope(payload, i18n);\r\n                    }\r\n                });\r\n                api.addTimelineLayer({\r\n                    id: \"vue-i18n-timeline\" /* TIMELINE */,\r\n                    label: VueDevToolsLabels[\"vue-i18n-timeline\" /* TIMELINE */],\r\n                    color: VueDevToolsTimelineColors[\"vue-i18n-timeline\" /* TIMELINE */]\r\n                });\r\n                resolve(true);\r\n            });\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            reject(false);\r\n        }\r\n    });\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getI18nScopeLable(instance) {\r\n    return (instance.type.name ||\r\n        instance.type.displayName ||\r\n        instance.type.__file ||\r\n        'Anonymous');\r\n}\r\nfunction updateComponentTreeTags(instance, // eslint-disable-line @typescript-eslint/no-explicit-any\r\ntreeNode, i18n) {\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    if (instance && instance.vnode.el && instance.vnode.el.__VUE_I18N__) {\r\n        // add custom tags local scope only\r\n        if (instance.vnode.el.__VUE_I18N__ !== global) {\r\n            const tag = {\r\n                label: `i18n (${getI18nScopeLable(instance)} Scope)`,\r\n                textColor: 0x000000,\r\n                backgroundColor: 0xffcd19\r\n            };\r\n            treeNode.tags.push(tag);\r\n        }\r\n    }\r\n}\r\nfunction inspectComposer(instanceData, composer) {\r\n    const type = VUE_I18N_COMPONENT_TYPES;\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'locale',\r\n        editable: true,\r\n        value: composer.locale.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'availableLocales',\r\n        editable: false,\r\n        value: composer.availableLocales\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'fallbackLocale',\r\n        editable: true,\r\n        value: composer.fallbackLocale.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'inheritLocale',\r\n        editable: true,\r\n        value: composer.inheritLocale\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'messages',\r\n        editable: false,\r\n        value: getLocaleMessageValue(composer.messages.value)\r\n    });\r\n    {\r\n        instanceData.state.push({\r\n            type,\r\n            key: 'datetimeFormats',\r\n            editable: false,\r\n            value: composer.datetimeFormats.value\r\n        });\r\n        instanceData.state.push({\r\n            type,\r\n            key: 'numberFormats',\r\n            editable: false,\r\n            value: composer.numberFormats.value\r\n        });\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getLocaleMessageValue(messages) {\r\n    const value = {};\r\n    Object.keys(messages).forEach((key) => {\r\n        const v = messages[key];\r\n        if (isFunction(v) && 'source' in v) {\r\n            value[key] = getMessageFunctionDetails(v);\r\n        }\r\n        else if (isObject(v)) {\r\n            value[key] = getLocaleMessageValue(v);\r\n        }\r\n        else {\r\n            value[key] = v;\r\n        }\r\n    });\r\n    return value;\r\n}\r\nconst ESC = {\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    '&': '&amp;'\r\n};\r\nfunction escape(s) {\r\n    return s.replace(/[<>\"&]/g, escapeChar);\r\n}\r\nfunction escapeChar(a) {\r\n    return ESC[a] || a;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getMessageFunctionDetails(func) {\r\n    const argString = func.source ? `(\"${escape(func.source)}\")` : `(?)`;\r\n    return {\r\n        _custom: {\r\n            type: 'function',\r\n            display: `<span>Æ</span> ${argString}`\r\n        }\r\n    };\r\n}\r\nfunction registerScope(payload, i18n) {\r\n    payload.rootNodes.push({\r\n        id: 'global',\r\n        label: 'Global Scope'\r\n    });\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    for (const [keyInstance, instance] of i18n.__instances) {\r\n        // prettier-ignore\r\n        const composer = i18n.mode === 'composition'\r\n            ? instance\r\n            : instance.__composer;\r\n        if (global === composer) {\r\n            continue;\r\n        }\r\n        payload.rootNodes.push({\r\n            id: composer.id.toString(),\r\n            label: `${getI18nScopeLable(keyInstance)} Scope`\r\n        });\r\n    }\r\n}\r\nfunction getComponentInstance(nodeId, i18n) {\r\n    let instance = null;\r\n    if (nodeId !== 'global') {\r\n        for (const [component, composer] of i18n.__instances.entries()) {\r\n            if (composer.id.toString() === nodeId) {\r\n                instance = component;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return instance;\r\n}\r\nfunction getComposer$1(nodeId, i18n) {\r\n    if (nodeId === 'global') {\r\n        return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer;\r\n    }\r\n    else {\r\n        const instance = Array.from(i18n.__instances.values()).find(item => item.id.toString() === nodeId);\r\n        if (instance) {\r\n            return i18n.mode === 'composition'\r\n                ? instance\r\n                : instance.__composer;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nfunction inspectScope(payload, i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const composer = getComposer$1(payload.nodeId, i18n);\r\n    if (composer) {\r\n        // TODO:\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        payload.state = makeScopeInspectState(composer);\r\n    }\r\n    return null;\r\n}\r\nfunction makeScopeInspectState(composer) {\r\n    const state = {};\r\n    const localeType = 'Locale related info';\r\n    const localeStates = [\r\n        {\r\n            type: localeType,\r\n            key: 'locale',\r\n            editable: true,\r\n            value: composer.locale.value\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'fallbackLocale',\r\n            editable: true,\r\n            value: composer.fallbackLocale.value\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'availableLocales',\r\n            editable: false,\r\n            value: composer.availableLocales\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'inheritLocale',\r\n            editable: true,\r\n            value: composer.inheritLocale\r\n        }\r\n    ];\r\n    state[localeType] = localeStates;\r\n    const localeMessagesType = 'Locale messages info';\r\n    const localeMessagesStates = [\r\n        {\r\n            type: localeMessagesType,\r\n            key: 'messages',\r\n            editable: false,\r\n            value: getLocaleMessageValue(composer.messages.value)\r\n        }\r\n    ];\r\n    state[localeMessagesType] = localeMessagesStates;\r\n    {\r\n        const datetimeFormatsType = 'Datetime formats info';\r\n        const datetimeFormatsStates = [\r\n            {\r\n                type: datetimeFormatsType,\r\n                key: 'datetimeFormats',\r\n                editable: false,\r\n                value: composer.datetimeFormats.value\r\n            }\r\n        ];\r\n        state[datetimeFormatsType] = datetimeFormatsStates;\r\n        const numberFormatsType = 'Datetime formats info';\r\n        const numberFormatsStates = [\r\n            {\r\n                type: numberFormatsType,\r\n                key: 'numberFormats',\r\n                editable: false,\r\n                value: composer.numberFormats.value\r\n            }\r\n        ];\r\n        state[numberFormatsType] = numberFormatsStates;\r\n    }\r\n    return state;\r\n}\r\nfunction addTimelineEvent(event, payload) {\r\n    if (devtoolsApi) {\r\n        let groupId;\r\n        if (payload && 'groupId' in payload) {\r\n            groupId = payload.groupId;\r\n            delete payload.groupId;\r\n        }\r\n        devtoolsApi.addTimelineEvent({\r\n            layerId: \"vue-i18n-timeline\" /* TIMELINE */,\r\n            event: {\r\n                title: event,\r\n                groupId,\r\n                time: Date.now(),\r\n                meta: {},\r\n                data: payload || {},\r\n                logType: event === \"compile-error\" /* COMPILE_ERROR */\r\n                    ? 'error'\r\n                    : event === \"fallback\" /* FALBACK */ ||\r\n                        event === \"missing\" /* MISSING */\r\n                        ? 'warning'\r\n                        : 'default'\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction editScope(payload, i18n) {\r\n    const composer = getComposer$1(payload.nodeId, i18n);\r\n    if (composer) {\r\n        const [field] = payload.path;\r\n        if (field === 'locale' && isString(payload.state.value)) {\r\n            composer.locale.value = payload.state.value;\r\n        }\r\n        else if (field === 'fallbackLocale' &&\r\n            (isString(payload.state.value) ||\r\n                isArray(payload.state.value) ||\r\n                isObject(payload.state.value))) {\r\n            composer.fallbackLocale.value = payload.state.value;\r\n        }\r\n        else if (field === 'inheritLocale' && isBoolean(payload.state.value)) {\r\n            composer.inheritLocale = payload.state.value;\r\n        }\r\n    }\r\n}\n\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            if (options.__i18nGlobal) {\r\n                adjustI18nResources(composer, options, options);\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n            /* istanbul ignore if */\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                this.$el &&\r\n                this.$i18n) {\r\n                this.$el.__VUE_I18N__ = this.$i18n.__composer;\r\n                const emitter = (this.__v_emitter =\r\n                    createEmitter());\r\n                const _vueI18n = this.$i18n;\r\n                _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\r\n                emitter.on('*', addTimelineEvent);\r\n            }\r\n        },\r\n        unmounted() {\r\n            const instance = getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            /* istanbul ignore if */\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                this.$el &&\r\n                this.$el.__VUE_I18N__) {\r\n                if (this.__v_emitter) {\r\n                    this.__v_emitter.off('*', addTimelineEvent);\r\n                    delete this.__v_emitter;\r\n                }\r\n                if (this.$i18n) {\r\n                    const _vueI18n = this.$i18n;\r\n                    _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();\r\n                    delete this.$el.__VUE_I18N__;\r\n                }\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst I18nInjectionKey = \r\n/* #__PURE__*/ makeSymbol('global-vue-i18n');\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction createI18n(options = {}, VueI18nLegacy) {\r\n    // prettier-ignore\r\n    const __legacyMode = __VUE_I18N_LEGACY_API__ && isBoolean(options.legacy)\r\n            ? options.legacy\r\n            : __VUE_I18N_LEGACY_API__;\r\n    // prettier-ignore\r\n    const __globalInjection = isBoolean(options.globalInjection)\r\n        ? options.globalInjection\r\n        : true;\r\n    // prettier-ignore\r\n    const __allowComposition = __VUE_I18N_LEGACY_API__ && __legacyMode\r\n            ? !!options.allowComposition\r\n            : true;\r\n    const __instances = new Map();\r\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\r\n    const symbol = makeSymbol((process.env.NODE_ENV !== 'production') ? 'vue-i18n' : '');\r\n    function __getInstance(component) {\r\n        return __instances.get(component) || null;\r\n    }\r\n    function __setInstance(component, instance) {\r\n        __instances.set(component, instance);\r\n    }\r\n    function __deleteInstance(component) {\r\n        __instances.delete(component);\r\n    }\r\n    {\r\n        const i18n = {\r\n            // mode\r\n            get mode() {\r\n                return __VUE_I18N_LEGACY_API__ && __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition';\r\n            },\r\n            // allowComposition\r\n            get allowComposition() {\r\n                return __allowComposition;\r\n            },\r\n            // install plugin\r\n            async install(app, ...options) {\r\n                if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                    !false) {\r\n                    app.__VUE_I18N__ = i18n;\r\n                }\r\n                // setup global provider\r\n                app.__VUE_I18N_SYMBOL__ = symbol;\r\n                app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n                // global method and properties injection for Composition API\r\n                if (!__legacyMode && __globalInjection) {\r\n                    injectGlobalFields(app, i18n.global);\r\n                }\r\n                // install built-in components and directive\r\n                if (__VUE_I18N_FULL_INSTALL__) {\r\n                    apply(app, i18n, ...options);\r\n                }\r\n                // setup mixin for Legacy API\r\n                if (__VUE_I18N_LEGACY_API__ && __legacyMode) {\r\n                    app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n                }\r\n                // release global scope\r\n                const unmountApp = app.unmount;\r\n                app.unmount = () => {\r\n                    i18n.dispose();\r\n                    unmountApp();\r\n                };\r\n                // setup vue-devtools plugin\r\n                if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\r\n                    const ret = await enableDevTools(app, i18n);\r\n                    if (!ret) {\r\n                        throw createI18nError(I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);\r\n                    }\r\n                    const emitter = createEmitter();\r\n                    if (__legacyMode) {\r\n                        const _vueI18n = __global;\r\n                        _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\r\n                    }\r\n                    else {\r\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                        const _composer = __global;\r\n                        _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\r\n                    }\r\n                    emitter.on('*', addTimelineEvent);\r\n                }\r\n            },\r\n            // global accessor\r\n            get global() {\r\n                return __global;\r\n            },\r\n            dispose() {\r\n                globalScope.stop();\r\n            },\r\n            // @internal\r\n            __instances,\r\n            // @internal\r\n            __getInstance,\r\n            // @internal\r\n            __setInstance,\r\n            // @internal\r\n            __deleteInstance\r\n        };\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction useI18n(options = {}) {\r\n    const instance = getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\r\n    }\r\n    if (!instance.isCE &&\r\n        instance.appContext.app != null &&\r\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\r\n    }\r\n    const i18n = getI18nInstance(instance);\r\n    const global = getGlobalComposer(i18n);\r\n    const componentOptions = getComponentOptions(instance);\r\n    const scope = getScope(options, componentOptions);\r\n    if (__VUE_I18N_LEGACY_API__) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (i18n.mode === 'legacy' && !options.__useComponent) {\r\n            if (!i18n.allowComposition) {\r\n                throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\r\n            }\r\n            return useI18nForLegacy(instance, scope, global, options);\r\n        }\r\n    }\r\n    if (scope === 'global') {\r\n        adjustI18nResources(global, options, componentOptions);\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const composerOptions = assign({}, options);\r\n        if ('__i18n' in componentOptions) {\r\n            composerOptions.__i18n = componentOptions.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance, composer);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst castToVueI18n =  (i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) => {\r\n    if (!(__VUE_I18N_BRIDGE__ in i18n)) {\r\n        throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\r\n    }\r\n    return i18n;\r\n};\r\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const scope = effectScope();\r\n    {\r\n        const obj = __VUE_I18N_LEGACY_API__ && legacyMode\r\n            ? scope.run(() => createVueI18n(options))\r\n            : scope.run(() => createComposer(options));\r\n        if (obj == null) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        return [scope, obj];\r\n    }\r\n}\r\nfunction getI18nInstance(instance) {\r\n    {\r\n        const i18n = inject(!instance.isCE\r\n            ? instance.appContext.app.__VUE_I18N_SYMBOL__\r\n            : I18nInjectionKey);\r\n        /* istanbul ignore if */\r\n        if (!i18n) {\r\n            throw createI18nError(!instance.isCE\r\n                ? I18nErrorCodes.UNEXPECTED_ERROR\r\n                : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\r\n        }\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getScope(options, componentOptions) {\r\n    // prettier-ignore\r\n    return isEmptyObject(options)\r\n        ? ('__i18n' in componentOptions)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n}\r\nfunction getGlobalComposer(i18n) {\r\n    // prettier-ignore\r\n    return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer\r\n        ;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            if (__VUE_I18N_LEGACY_API__) {\r\n                const vueI18n = i18nInternal.__getInstance(current);\r\n                if (vueI18n != null) {\r\n                    composer = vueI18n\r\n                        .__composer;\r\n                    if (useComponent &&\r\n                        composer &&\r\n                        !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) {\r\n                        composer = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    let emitter = null;\r\n    {\r\n        onMounted(() => {\r\n            // inject composer instance to DOM for intlify-devtools\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                target.vnode.el) {\r\n                target.vnode.el.__VUE_I18N__ = composer;\r\n                emitter = createEmitter();\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const _composer = composer;\r\n                _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\r\n                emitter.on('*', addTimelineEvent);\r\n            }\r\n        }, target);\r\n        onUnmounted(() => {\r\n            // remove composer instance from DOM for intlify-devtools\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                !false &&\r\n                target.vnode.el &&\r\n                target.vnode.el.__VUE_I18N__) {\r\n                emitter && emitter.off('*', addTimelineEvent);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const _composer = composer;\r\n                _composer[DisableEmitter] && _composer[DisableEmitter]();\r\n                delete target.vnode.el.__VUE_I18N__;\r\n            }\r\n            i18n.__deleteInstance(target);\r\n        }, target);\r\n    }\r\n}\r\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const isLocale = scope === 'local';\r\n    const _composer = shallowRef(null);\r\n    if (isLocale &&\r\n        instance.proxy &&\r\n        !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\r\n        throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\r\n    }\r\n    const _inheritLocale = isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.locale.value\r\n        : isString(options.locale)\r\n            ? options.locale\r\n            : DEFAULT_LOCALE);\r\n    const _fallbackLocale = ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.fallbackLocale.value\r\n        : isString(options.fallbackLocale) ||\r\n            isArray(options.fallbackLocale) ||\r\n            isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = ref(isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _numberFormats = ref(isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _missingWarn = isLocale\r\n        ? root.missingWarn\r\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackWarn = isLocale\r\n        ? root.fallbackWarn\r\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackRoot = isLocale\r\n        ? root.fallbackRoot\r\n        : isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    const _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    const _missing = isFunction(options.missing) ? options.missing : null;\r\n    // postTranslation handler\r\n    const _postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    const _warnHtmlMessage = isLocale\r\n        ? root.warnHtmlMessage\r\n        : isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    const _escapeParameter = !!options.escapeParameter;\r\n    // prettier-ignore\r\n    const _modifiers = isLocale\r\n        ? root.modifiers\r\n        : isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    const _pluralRules = options.pluralRules || (isLocale && root.pluralRules);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = computed({\r\n        get: () => {\r\n            return _composer.value ? _composer.value.locale.value : _locale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.locale.value = val;\r\n            }\r\n            _locale.value = val;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = computed({\r\n        get: () => {\r\n            return _composer.value\r\n                ? _composer.value.fallbackLocale.value\r\n                : _fallbackLocale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackLocale.value = val;\r\n            }\r\n            _fallbackLocale.value = val;\r\n        }\r\n    });\r\n    // messages\r\n    const messages = computed(() => {\r\n        if (_composer.value) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _composer.value.messages.value;\r\n        }\r\n        else {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _messages.value;\r\n        }\r\n    });\r\n    const datetimeFormats = computed(() => _datetimeFormats.value);\r\n    const numberFormats = computed(() => _numberFormats.value);\r\n    function getPostTranslationHandler() {\r\n        return _composer.value\r\n            ? _composer.value.getPostTranslationHandler()\r\n            : _postTranslation;\r\n    }\r\n    function setPostTranslationHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setPostTranslationHandler(handler);\r\n        }\r\n    }\r\n    function getMissingHandler() {\r\n        return _composer.value ? _composer.value.getMissingHandler() : _missing;\r\n    }\r\n    function setMissingHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setMissingHandler(handler);\r\n        }\r\n    }\r\n    function warpWithDeps(fn) {\r\n        trackReactivityValues();\r\n        return fn();\r\n    }\r\n    function t(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function rt(...args) {\r\n        return _composer.value\r\n            ? Reflect.apply(_composer.value.rt, null, [...args])\r\n            : '';\r\n    }\r\n    function d(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function n(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function tm(key) {\r\n        return _composer.value ? _composer.value.tm(key) : {};\r\n    }\r\n    function te(key, locale) {\r\n        return _composer.value ? _composer.value.te(key, locale) : false;\r\n    }\r\n    function getLocaleMessage(locale) {\r\n        return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\r\n    }\r\n    function setLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.setLocaleMessage(locale, message);\r\n            _messages.value[locale] = message;\r\n        }\r\n    }\r\n    function mergeLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeLocaleMessage(locale, message);\r\n        }\r\n    }\r\n    function getDateTimeFormat(locale) {\r\n        return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\r\n    }\r\n    function setDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setDateTimeFormat(locale, format);\r\n            _datetimeFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeDateTimeFormat(locale, format);\r\n        }\r\n    }\r\n    function getNumberFormat(locale) {\r\n        return _composer.value ? _composer.value.getNumberFormat(locale) : {};\r\n    }\r\n    function setNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setNumberFormat(locale, format);\r\n            _numberFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeNumberFormat(locale, format);\r\n        }\r\n    }\r\n    const wrapper = {\r\n        get id() {\r\n            return _composer.value ? _composer.value.id : -1;\r\n        },\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get inheritLocale() {\r\n            return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            if (_composer.value) {\r\n                _composer.value.inheritLocale = val;\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return _composer.value\r\n                ? _composer.value.availableLocales\r\n                : Object.keys(_messages.value);\r\n        },\r\n        get modifiers() {\r\n            return (_composer.value ? _composer.value.modifiers : _modifiers);\r\n        },\r\n        get pluralRules() {\r\n            return (_composer.value ? _composer.value.pluralRules : _pluralRules);\r\n        },\r\n        get isGlobal() {\r\n            return _composer.value ? _composer.value.isGlobal : false;\r\n        },\r\n        get missingWarn() {\r\n            return _composer.value ? _composer.value.missingWarn : _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackWarn() {\r\n            return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackRoot() {\r\n            return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackRoot = val;\r\n            }\r\n        },\r\n        get fallbackFormat() {\r\n            return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackFormat = val;\r\n            }\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _composer.value\r\n                ? _composer.value.warnHtmlMessage\r\n                : _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            if (_composer.value) {\r\n                _composer.value.warnHtmlMessage = val;\r\n            }\r\n        },\r\n        get escapeParameter() {\r\n            return _composer.value\r\n                ? _composer.value.escapeParameter\r\n                : _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            if (_composer.value) {\r\n                _composer.value.escapeParameter = val;\r\n            }\r\n        },\r\n        t,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        rt,\r\n        d,\r\n        n,\r\n        tm,\r\n        te,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat\r\n    };\r\n    function sync(composer) {\r\n        composer.locale.value = _locale.value;\r\n        composer.fallbackLocale.value = _fallbackLocale.value;\r\n        Object.keys(_messages.value).forEach(locale => {\r\n            composer.mergeLocaleMessage(locale, _messages.value[locale]);\r\n        });\r\n        Object.keys(_datetimeFormats.value).forEach(locale => {\r\n            composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\r\n        });\r\n        Object.keys(_numberFormats.value).forEach(locale => {\r\n            composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\r\n        });\r\n        composer.escapeParameter = _escapeParameter;\r\n        composer.fallbackFormat = _fallbackFormat;\r\n        composer.fallbackRoot = _fallbackRoot;\r\n        composer.fallbackWarn = _fallbackWarn;\r\n        composer.missingWarn = _missingWarn;\r\n        composer.warnHtmlMessage = _warnHtmlMessage;\r\n    }\r\n    onBeforeMount(() => {\r\n        if (instance.proxy == null || instance.proxy.$i18n == null) {\r\n            throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const composer = (_composer.value = instance.proxy.$i18n\r\n            .__composer);\r\n        if (scope === 'global') {\r\n            _locale.value = composer.locale.value;\r\n            _fallbackLocale.value = composer.fallbackLocale.value;\r\n            _messages.value = composer.messages.value;\r\n            _datetimeFormats.value = composer.datetimeFormats.value;\r\n            _numberFormats.value = composer.numberFormats.value;\r\n        }\r\n        else if (isLocale) {\r\n            sync(composer);\r\n        }\r\n    });\r\n    return wrapper;\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'] ;\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const wrap = isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\nregisterMessageCompiler(compileToFunction);\r\n// register message resolver at vue-i18n\r\nregisterMessageResolver(resolveValue);\r\n// register fallback locale at vue-i18n\r\nregisterLocaleFallbacker(fallbackWithLocaleChain);\r\n{\r\n    initFeatureFlags();\r\n}\r\n// NOTE: experimental !!\r\nif ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n    const target = getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\r\nif ((process.env.NODE_ENV !== 'production')) ;\n\nexport { DatetimeFormat, I18nInjectionKey, NumberFormat, Translation, VERSION, castToVueI18n, createI18n, useI18n, vTDirective };\n","<template>\r\n    <p>Theme: {{ themeName }}</p>\r\n    <slot name=\"storySlot\"></slot>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    themeName: String,\r\n  },\r\n}\r\n</script>\r\n","import { h } from 'vue'\r\nimport StoryWrapper from './StoryWrapper.vue'\r\n\r\nexport const DEFAULT_THEME = 'light'\r\n\r\nexport const withTheme = (storyFn, context) => {\r\n  // Pull our global theme variable, fallback to DEFAULT_THEME\r\n  const themeName = context.globals.theme || DEFAULT_THEME\r\n  const story = storyFn()\r\n\r\n  return () => {\r\n    return h(\r\n      StoryWrapper,\r\n      // give themeName to StoryWrapper as a prop\r\n      { themeName },\r\n      {\r\n        storySlot: () => h(story, { ...context.args }),\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { setup } from '@storybook/vue3'\r\nimport { createI18n } from 'vue-i18n'\r\nimport '@mdi/font/css/materialdesignicons.min.css'\r\nimport '../assets/css/tailwind.css'\r\nimport { createPinia } from 'pinia'\r\nimport { withTheme } from './withTheme.decorator'\r\nimport '../assets/styles/global.scss'\r\nimport en from '../internationalization/en.json'\r\n\r\n/** @type { import('@storybook/vue3').Preview } */\r\nconst preview = {\r\n  parameters: {\r\n    actions: { argTypesRegex: '^on[A-Z].*' },\r\n    controls: {\r\n      matchers: {\r\n        color: /(background|color)$/i,\r\n        date: /Date$/,\r\n      },\r\n    },\r\n  },\r\n}\r\n\r\nconst pinia = createPinia()\r\n\r\nconst i18n = createI18n({\r\n  locale: 'en', // set locale\r\n  fallbackLocale: 'en', // set fallback locale\r\n  messages: {\r\n    en,\r\n  },\r\n})\r\n\r\nsetup((app) => {\r\n  app.use(pinia)\r\n  app.use(i18n)\r\n})\r\n\r\nexport const decorators = [withTheme]\r\n\r\nexport const globalTypes = {\r\n  theme: {\r\n    name: 'Theme',\r\n    description: 'Global theme for components',\r\n    toolbar: {\r\n      icon: 'paintbrush',\r\n      // Array of plain string values or MenuItem shape\r\n      items: [\r\n        { value: 'light', title: 'Light', left: 'ð' },\r\n        { value: 'dark', title: 'Dark', left: 'ð' },\r\n        { value: 'brand', title: 'Brand', left: '+' },\r\n        { value: 'nobrand', title: 'Nobrand', left: '-' },\r\n      ],\r\n      // Change title based on selected value\r\n      dynamicTitle: true,\r\n    },\r\n  },\r\n}\r\n"],"names":["start","globalWindow","global","api","renderToCanvas","decorateStory","render","_a","inBrowser","hasSymbol","makeSymbol","name","isNumber","val","isRegExp","toTypeString","isEmptyObject","isPlainObject","assign","_globalThis","getGlobalThis","hasOwnProperty","hasOwn","obj","key","isArray","isFunction","isString","isBoolean","isObject","objectToString","value","generateFormatCacheKey","locale","source","friendlyJSONstringify","json","isDate","warn","msg","err","escapeHtml","rawText","toDisplayString","CompileErrorCodes","createCompileError","code","loc","options","domain","messages","args","error","defaultOnError","createPosition","line","column","offset","createLocation","end","CHAR_SP","CHAR_CR","CHAR_LF","CHAR_LS","CHAR_PS","createScanner","str","_buf","_index","_line","_column","_peekOffset","isCRLF","index","isLF","isPS","isLS","isLineEnd","peekOffset","charAt","currentChar","currentPeek","next","peek","reset","resetPeek","skipToPeek","target","EOF","LITERAL_DELIMITER","ERROR_DOMAIN$1","createTokenizer","location","_scnr","currentOffset","currentPosition","_initLoc","_initOffset","_context","context","onError","emitError","pos","ctx","getToken","type","token","getEndToken","eat","scnr","ch","peekSpaces","buf","skipSpaces","isIdentifierStart","cc","isNumberStart","isNamedIdentifierStart","currentType","ret","isListIdentifierStart","isLiteralStart","isLinkedDotStart","isLinkedModifierStart","isLinkedDelimiterStart","isLinkedReferStart","fn","isPluralStart","detectModuloStart","spaces","isTextStart","hasSpace","prev","detectModulo","takeChar","takeIdentifierChar","takeDigit","takeHexDigit","getDigits","num","readModulo","readText","readNamedIdentifier","readListIdentifier","readLiteral","literal","x","readEscapeSequence","current","readUnicodeEscapeSequence","unicode","digits","sequence","i","readInvalidIdentifier","identifiers","closure","readLinkedModifier","readLinkedRefer","detect","readPlural","plural","readTokenInPlaceholder","readTokenInLinked","validNamedIdentifier","validListIdentifier","validLiteral","readToken","isModulo","nextToken","startLoc","endLoc","ERROR_DOMAIN","KNOWN_ESCAPES","fromEscapeSequence","match","codePoint4","codePoint6","codePoint","createParser","tokenzer","startNode","node","endNode","parseText","tokenizer","parseList","parseNamed","parseLiteral","parseLinkedModifier","getTokenCaption","parseLinkedKey","parseLinked","linkedNode","parsed","nextContext","emptyLinkedKeyNode","parseMessage","startOffset","endOffset","parsePlural","msgNode","hasEmptyMessage","parseResource","parse","createTransformer","ast","traverseNodes","nodes","transformer","traverseNode","transform","createCodeGenerator","sourceMap","filename","breakLineCode","_needIndent","push","_newline","n","withBreakLine","_breakLineCode","indent","withNewLine","level","deindent","newline","generateLinkedNode","generator","helper","generateNode","generateMessageNode","needIndent","length","generatePluralNode","generateResource","generate","mode","helpers","s","map","baseCompile","assignedOptions","IntlifyDevToolsHooks","pathStateMachine","literalValueRE","isLiteral","exp","stripQuotes","a","b","getPathCharType","formatSubPath","path","trimmed","keys","subPathDepth","c","newChar","transition","action","typeMap","actions","maybeUnescapeQuote","nextChar","cache","resolveWithKeyValue","resolveValue","hit","len","last","DEFAULT_MODIFIER","DEFAULT_MESSAGE","DEFAULT_MESSAGE_DATA_TYPE","DEFAULT_NORMALIZE","values","DEFAULT_INTERPOLATE","pluralDefault","choice","choicesLength","getPluralIndex","normalizeNamed","pluralIndex","props","createMessageContext","pluralRule","orgPluralRule","_list","list","_named","named","message","_modifier","normalize","interpolate","arg1","arg2","modifier","devtools","setDevToolsHook","hook","initI18nDevTools","i18n","version","meta","translateDevTools","createDevToolsHook","payloads","fallbackWithSimple","fallback","fallbackWithLocaleChain","startLocale","DEFAULT_LOCALE","chain","block","appendBlockToChain","defaults","blocks","follow","appendLocaleToChain","tokens","appendItemToChain","VERSION","NOT_REOSLVED","MISSING_RESOLVE_VALUE","capitalize","getDefaultLinkedModifiers","_compiler","registerMessageCompiler","compiler","_resolver","registerMessageResolver","resolver","_fallbacker","registerLocaleFallbacker","fallbacker","_additionalMeta","setAdditionalMeta","getAdditionalMeta","_fallbackContext","setFallbackContext","getFallbackContext","_cid","createCoreContext","fallbackLocale","datetimeFormats","numberFormats","modifiers","pluralRules","missing","missingWarn","fallbackWarn","fallbackFormat","unresolving","postTranslation","processor","warnHtmlMessage","escapeParameter","messageCompiler","messageResolver","localeFallbacker","fallbackContext","onWarn","internalOptions","__datetimeFormatters","__numberFormatters","__meta","handleMissing","updateFallbackLocale","defaultOnCacheKey","compileCache","compileToFunction","cached","occurred","inc","CoreErrorCodes","createCoreError","NOOP_MESSAGE_FUNCTION","isMessageFunction","translate","parseTranslateArgs","resolvedMessage","defaultMsgOrKey","enableDefaultMsg","escapeParams","formatScope","targetLocale","resolveMessageFormat","format","cacheBaseKey","errorDetector","compileMessageFormat","ctxOptions","getMessageContextOptions","msgContext","messaged","evaluateMessage","item","locales","missingRet","getCompileOptions","msgCtx","arg3","datetime","overrides","parseDateTimeArgs","part","datetimeFormat","id","formatter","DATETIME_FORMAT_OPTIONS_KEYS","arg4","matches","dateTime","clearDateTimeFormat","number","parseNumberArgs","numberFormat","NUMBER_FORMAT_OPTIONS_KEYS","clearNumberFormat","initFeatureFlags","I18nErrorCodes","createI18nError","TransrateVNodeSymbol","DatetimePartsSymbol","NumberPartsSymbol","SetPluralRulesSymbol","InejctWithOption","handleFlatJson","subKeys","lastIndex","currentObj","getLocaleMessages","__i18n","flatJson","custom","resource","deepCopy","isNotObjectOrIsArray","src","des","getComponentOptions","instance","adjustI18nResources","componentOptions","createTextNode","createVNode","Text","DEVTOOLS_META","composerID","defineCoreMissingHandler","getCurrentInstance","getMetaInfo","createComposer","VueI18nLegacy","__root","_isGlobal","_inheritLocale","_locale","ref","_fallbackLocale","_messages","_datetimeFormats","_numberFormats","_missingWarn","_fallbackWarn","_fallbackRoot","_fallbackFormat","_missing","_runtimeMissing","_postTranslation","_warnHtmlMessage","_escapeParameter","_modifiers","_pluralRules","trackReactivityValues","computed","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","wrapWithDeps","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","t","root","rt","d","transrateVNode","numberParts","datetimeParts","setPluralRules","rules","te","getLocaleMessage","resolveMessages","targetLocaleMessages","messageValue","tm","setLocaleMessage","mergeLocaleMessage","getDateTimeFormat","setDateTimeFormat","mergeDateTimeFormat","getNumberFormat","setNumberFormat","mergeNumberFormat","watch","composer","convertComposerOptions","fallbackRoot","pluralizationRules","inheritLocale","sharedMessages","__injectWithOption","createVueI18n","vueI18n","componentInstanceCreatedListener","baseFormatProps","getInterpolateArg","slots","slot","arg","getFragmentableTag","tag","Fragment","Translation","attrs","useI18n","children","assignedAttrs","h","isVNode","renderFormatter","slotKeys","partFormatter","prop","parts","NumberFormat","DatetimeFormat","getComposer$2","i18nInternal","vTDirective","_process","binding","parsedValue","parseValue","makeParams","el","textContent","apply","app","pluginOptions","useI18nComponentName","defineMixin","vuei18n","optionsI18n","mergeToRoot","I18nInjectionKey","createI18n","__legacyMode","__globalInjection","__allowComposition","__instances","globalScope","__global","createGlobal","symbol","__getInstance","component","__setInstance","__deleteInstance","injectGlobalFields","unmountApp","getI18nInstance","getGlobalComposer","scope","getScope","useI18nForLegacy","getComposer","composerOptions","setupLifeCycle","legacyMode","effectScope","inject","useComponent","onMounted","onUnmounted","isLocale","_composer","shallowRef","warpWithDeps","wrapper","sync","onBeforeMount","globalExportProps","globalExportMethods","desc","wrap","isRef","method","_sfc_main","DEFAULT_THEME","withTheme","storyFn","themeName","story","StoryWrapper","pinia","createPinia","en","setup","decorators","globalTypes"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}